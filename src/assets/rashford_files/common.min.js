"use strict";PULSE.app.templates._article_modal=_.template('<% articleTag = TEMPLATE_HELPER.getMediaTag(tags, true) %> <% isNewsContent = TEMPLATE_HELPER.contentHasTag(tags, CONSTANTS.TAGS.TYPE.NEWS.tag) %> <% articleClass = isFeatured ? \'article-featured\' : \'article\' %> <% modifierClass = isNewsContent ? articleClass + \'--is-news\' : \'\' %> <% modifierClass += isQuiz ? \' \' + articleClass + \'--quiz\' : \'\' %> <article class="<%= articleClass %> <%= modifierClass %> is-modal"> <% if ( leadMedia ) { %> <div class="<%= articleClass %>__leadMedia <%= !isFeatured ? \'fixed-hero-bg\' : \'\' %> js-modal-lead-media"> <% if ( isQuiz ) { %> <div class="quiz__label"> <span class="quiz__label-text"><%= PULSE.I18N.lookup(\'label.quiz.win\') %></span> </div> <% } %> <div class="<%= articleClass %>__image-container"> <picture class="<%= articleClass %>__image"> <% if ( isFeatured ) { %> <% if (heroPhoto.featured.mobileUrl && heroPhoto.featured.mobileUrlRetina) { %><source srcset="<%= heroPhoto.featured.mobileUrl.url %>, <%= heroPhoto.featured.mobileUrlRetina.url %> 2x" media="(max-width: 480px)"><% } %> <% if (heroPhoto.featured.phabletUrl && heroPhoto.featured.phabletUrlRetina) { %><source srcset="<%= heroPhoto.featured.phabletUrl.url %>, <%= heroPhoto.featured.phabletUrlRetina.url %> 2x" media="(max-width: 640px)"><% } %> <% if (heroPhoto.featured.tabletUrl && heroPhoto.featured.tabletUrlRetina) { %><source srcset="<%= heroPhoto.featured.tabletUrl.url %>, <%= heroPhoto.featured.tabletUrlRetina.url %> 2x" media="(max-width: 840px)"><% } %> <% if (heroPhoto.featured.desktopSmallUrl && heroPhoto.featured.desktopSmallUrlRetina) { %><source srcset="<%= heroPhoto.featured.desktopSmallUrl.url %>, <%= heroPhoto.featured.desktopSmallUrlRetina.url %> 2x" media="(max-width: 1024px)"><% } %> <% if (heroPhoto.featured.desktopUrl && heroPhoto.featured.desktopUrlRetina) { %><source srcset="<%= heroPhoto.featured.desktopUrl.url %>, <%= heroPhoto.featured.desktopUrlRetina.url %> 2x" media="(max-width: 1200px)"><% } %> <% if (heroPhoto.featured.wideUrl && heroPhoto.featured.wideUrlRetina) { %><source srcset="<%= heroPhoto.featured.wideUrl.url %>, <%= heroPhoto.featured.wideUrlRetina.url %> 2x"><% } %> <% if (heroPhoto.featured.desktopUrl) { %><img src="<%= heroPhoto.featured.desktopUrl.url %>" alt="<%= title %>"><% } %> <% } else { %> <% if (heroPhoto.standard.mobileUrl && heroPhoto.standard.mobileUrlRetina) { %><source srcset="<%= heroPhoto.standard.mobileUrl.url %>, <%= heroPhoto.standard.mobileUrlRetina.url %> 2x" media="(max-width: 480px)"><% } %> <% if (heroPhoto.standard.phabletUrl && heroPhoto.standard.phabletUrlRetina) { %><source srcset="<%= heroPhoto.standard.phabletUrl.url %>, <%= heroPhoto.standard.phabletUrlRetina.url %> 2x" media="(max-width: 850px)"><% } %> <% if (heroPhoto.standard.tabletUrl && heroPhoto.standard.tabletUrlRetina) { %><source srcset="<%= heroPhoto.standard.tabletUrl.url %>, <%= heroPhoto.standard.tabletUrlRetina.url %> 2x" media="(max-width: 1120px)"><% } %> <% if (heroPhoto.standard.desktopUrl && heroPhoto.standard.desktopUrlRetina) { %><source srcset="<%= heroPhoto.standard.desktopSmallUrl.url %>, <%= heroPhoto.standard.desktopUrlRetina.url %> 2x"><% } %> <% if (heroPhoto.standard.desktopUrl) { %><img src="<%= heroPhoto.standard.desktopSmallUrl.url %>" alt="<%= title %>"><% } %> <% } %> </picture> <% if ( !isFeatured ) { %> <% blurredBG = IMAGE_HELPER.getPhotoByVariant(IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Standard Article Hero - Low Res\' ); %> <% if (blurredBG) { %><img src="<%= blurredBG.url %>" class="<%= articleClass %>__image-blurred" alt=""><% } %> <% } %> </div> </div> <% } %> <% if ( leadMedia ) { %> <div class="<%= articleClass %>__container"> <% } else { %> <div class="<%= articleClass %>__container <%= articleClass %>__container--no-lead"> <% } %> <div class="<%= articleClass %>__header"> <% var contentSponsor = TEMPLATE_HELPER.getSponsorTag( tags ) %> <% if (contentSponsor) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <% if (metadata[\'sponsor-url\']) { %><a href="<%= (metadata[\'sponsor-url\']) %>" class="content-partner__link" target="_blank" rel="noopener"><% } %> <svg class="icon content-partner__logo content-partner__logo--<%= contentSponsor %>"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= contentSponsor %>"></use> </svg> <span class="visually-hidden"><%= contentSponsor %></span> <% if (metadata[\'sponsor-url\']) { %></a><% } %> </div> <% } %> <h1 class="<%= articleClass %>__title"><%= title %></h1> <div class="<%= articleClass %>__summary"><%= summary %></div> <div class="<%= articleClass %>__meta"> <% if ( !isQuiz ) { %> <div class="<%= articleClass %>__publisher"> <% if (author) { %><div class="<%= articleClass %>__author"><%= author %></div><% } %> <div class="<%= articleClass %>__publish-date"> <% var dateFormat = PULSE.app.language === \'ja\' ? \'MMMD日（ddd）ah.mm\' : \'hh:mma dddd DD MMM\'; %> <%= moment(publishFrom).format(dateFormat) %> </div> </div> <% } %> <div class="article__meta-data"> <% if (articleTag) { %><div class="content-tag"><%= PULSE.I18N.lookup(articleTag) %></div><% } %> <% if ( !isQuiz ) { %> <time class="content-time"> <svg class="content-time__icon icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#clock"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.clock\') %></span> <span class="content-time__date"><%= TEMPLATE_HELPER.dateAge(publishFrom) %></span> </time> <% } else { %> <div class="quiz__fans"> \x3c!--\n                            <svg class="quiz__fans-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#barca-culers-<%= PULSE.app.language %>"></use></svg>\n                            --\x3e <span class="quiz__fans-label"><%= PULSE.I18N.lookup(\'label.quiz.competitions\') %></span> </div> <% if ( metadata[\'quiz-closing-date\'] ) { %> <div class="quiz__end"> <svg class="quiz__end-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#video"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.video\') %></span> <span class="quiz__end-date"><%= PULSE.I18N.lookup(\'label.quiz.closing\', { date: metadata[\'quiz-closing-date\'] }) %></span> </div> <% } %> <% } %> </div> </div> </div> <section class="<%= articleClass %>__content-container"> <% if ( isNewsContent ) { %> <div class="social-share js-social-share u-hide-phablet" data-widget="social-page-share" data-constructor="common.PageShare" data-body="<%= title %>"> <div class="social-share__label"><%= PULSE.I18N.lookup(\'label.share.article\') %></div> <ul class="social-share__list"> <li class="social-share__icon social-share__icon--viber u-show-phablet" data-social data-social-service="viber" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="viber-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#viber"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.viber\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.viber\') %></span> </li> <li class="social-share__icon social-share__icon--whatsapp u-show-phablet" data-social data-social-service="whatsapp" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="whatsapp-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#whatsapp"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.whatsapp\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.whatsapp\') %></span> </li> <li class="social-share__icon social-share__icon--twitter" data-social data-social-service="twitter" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="twitter-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#twitter"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.twitter\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.twitter\') %></span> </li> <li class="social-share__icon social-share__icon--facebook" data-social data-social-service="facebook" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="facebook-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.facebook\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.facebook\') %></span> </li> <li class="social-share__icon social-share__icon--messenger u-show-phablet" data-social data-social-service="facebookMessenger" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="facebookmessenger-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook-messenger"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.messenger\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.messenger\') %></span> </li> <li class="social-share__icon social-share__icon--copy js-copy-url" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-top" data-analytics-event="copy-url-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#link"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.copylink\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.copylink\') %></span> <span class="social-share__copy-message js-copy-message"></span> </li> </ul> </div> <% } %> <div class="<%= articleClass %>__body"> <div class="<%= articleClass %>__content js-article-body"><%= body %></div> <% if ( isNewsContent ) { %> <div class="social-share js-social-share" data-widget="social-page-share" data-constructor="common.PageShare" data-body="<%= title %>"> <div class="social-share__label"><%= PULSE.I18N.lookup(\'label.share.article\') %></div> <ul class="social-share__list"> <li class="social-share__icon social-share__icon--viber u-show-phablet" data-social data-social-service="viber" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="viber-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#viber"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.viber\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.viber\') %></span> </li> <li class="social-share__icon social-share__icon--whatsapp u-show-phablet" data-social data-social-service="whatsapp" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="whatsapp-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#whatsapp"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.whatsapp\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.whatsapp\') %></span> </li> <li class="social-share__icon social-share__icon--twitter" data-social data-social-service="twitter" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="twitter-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#twitter"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.twitter\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.twitter\') %></span> </li> <li class="social-share__icon social-share__icon--facebook" data-social data-social-service="facebook" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="facebook-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.facebook\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.facebook\') %></span> </li> <li class="social-share__icon social-share__icon--messenger u-show-phablet" data-social data-social-service="facebookMessenger" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="facebookmessenger-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook-messenger"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.messenger\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.messenger\') %></span> </li> <li class="social-share__icon social-share__icon--copy js-copy-url" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-bottom" data-analytics-event="copy-url-share" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#link"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.copylink\') %></span> <span class="social-share__name"><%= PULSE.I18N.lookup(\'label.share.copylink\') %></span> <span class="social-share__copy-message js-copy-message"></span> </li> </ul> </div> <% } %> <div class="força-barça--center força-barça--float <%= articleClass === \'article-featured\' ? \'força-barça--dark-bg\' : \'\' %>" data-widget="forca-barca" data-reaction-type="TEXT" data-reaction-id="<%= id %>" data-analytics-label="<%= title %>"> <div class="força-barça js-forca-barca"> <div class="força-barça__label-wrapper"> <div class="força-barça__labels"> <div class="força-barça__title"><%= PULSE.I18N.lookup(\'label.forca-barca\') %></div> <div class="força-barça__section"> <svg class="icon max-claps-fire-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#fire"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.fire\') %></span> <div class="força-barça__counter js-forca-barca-counter"></div> </div> </div> </div> <div class="força-barça__icon js-forca-barca-button" role="button" tabindex="0"> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.forca-barca\') %></span> <span class="clap-count-disc js-forca-clap-counter"></span> <span class="max-clap-total js-forca-max-clap-total"></span> <svg class="icon hand-icon hand-icon--top" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 191.7 197.6"><path class="fill" d="M111.7 9.1c5.2-6.2 13-6.9 19.2-1.7 6.2 5.2 7.8 13 2.6 19.2L146.6 11c5.2-6.2 14.4-7 20.6-1.8 6.2 5.2 7 14.4 1.8 20.6l-12.5 14.9c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-16.5 19.6c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7l21.4-25.3c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7l45.3-53.5z" fill="#fff"/><g class="stroke" fill="none" stroke="#ce202c" stroke-width="9" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"><path class="stroke" d="M80 91.1l66.5-79.3c5.2-6.2 14.4-7 20.6-1.8s7 14.4 1.8 20.6l-66.5 79.3M156.5 45.5c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-53.2 63.4"/><path class="stroke" d="M163.4 85.5c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7L44 48.5c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7L40.1 95.1l72.2-86c5.2-6.2 13.7-7.6 19.9-2.4 6.2 5.2 6.6 14.5 1.4 20.7"/></g></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.hand\') %></span> <svg class="icon hand-icon hand-icon--bottom" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 191.7 197.6"><path class="fill" d="M111.7 9.1c5.2-6.2 13-6.9 19.2-1.7 6.2 5.2 7.8 13 2.6 19.2L146.6 11c5.2-6.2 14.4-7 20.6-1.8 6.2 5.2 7 14.4 1.8 20.6l-12.5 14.9c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-16.5 19.6c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7l21.4-25.3c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7l45.3-53.5z" fill="#fff"/><g class="stroke" fill="none" stroke="#ce202c" stroke-width="9" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"><path class="stroke" d="M80 91.1l66.5-79.3c5.2-6.2 14.4-7 20.6-1.8s7 14.4 1.8 20.6l-66.5 79.3M156.5 45.5c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-53.2 63.4"/><path class="stroke" d="M163.4 85.5c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7L44 48.5c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7L40.1 95.1l72.2-86c5.2-6.2 13.7-7.6 19.9-2.4 6.2 5.2 6.6 14.5 1.4 20.7"/></g></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.hand\') %></span> </div> </div> </div> <div class="content-divider-crest js-article-footer"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/club-badges.svg#BCN"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.barcelona\') %></span> </div> </div> <div class="related-articles" data-widget="related-articles" data-article-id="<%= id %>" data-tags="<%= TEMPLATE_HELPER.getTagsAsString(tags).replace(CONSTANTS.TAGS.TYPE.FEATURED, \'\') %>"></div> </section> </div> <section class="social-share-text u-hide-tablet js-text-share-options"> <ul class="social-share-text__icons-container"> <li class="social-share-text__icon" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-select" data-analytics-event="twitter-share"> <a data-social-service="twitter" prevent-action><svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#twitter"></use></svg></a> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.share.viatwitter\') %></span> </li> <li class="social-share-text__icon" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-select" data-analytics-event="facebook-share"> <a data-social-service="facebook" prevent-action><svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook"></use></svg></a> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.share.viafacebook\') %></span> </li> \x3c!--\n            <li class="social-share-text__icon js-copy-url" data-analytics="true" data-analytics-type="social media" data-analytics-section="news-select" data-analytics-event="copy-url-share">\n                <a data-social-service="email"><svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#link"></use></svg></a>\n                <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.share.copylink\') %></span>\n            </li> --\x3e </ul> </section> <div class="js-article-bottom"></div> </div></article> <div class="js-content-data-attributes" data-ignore="<%= id %>" data-page-size="9" data-tags="<%= TEMPLATE_HELPER.getTagsAsString(tags).replace(CONSTANTS.TAGS.TYPE.NEWS.tag, \'\').replace(CONSTANTS.TAGS.TYPE.FEATURED.tag, \'\') %>"> </div> '),PULSE.app.templates["barca-videos-button"]=_.template('<a href="<%= url %>" target="_blank" rel="noopener" class="barca-videos-button" title="Barça TV+"> <svg class="barca-videos-button__double-plus-icon barca-videos-button__double-plus-icon--left"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#double-plus"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.doubleplus\') %></span> <svg class="barca-videos-button__double-plus-icon barca-videos-button__double-plus-icon--right"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#double-plus"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.doubleplus\') %></span> </a> '),PULSE.app.templates["club-badge"]=_.template('<span class="badge <%= typeof cssClass !== \'undefined\' ? cssClass : \'\' %>" data-widget="club-badge-image" data-size="<%= iconSize %>"> <img class="badge-image badge-image--<%= iconSize %> js-badge-image" alt="<%= teamName %>" onerror="this.onerror=null;" src="<%= IMAGE_HELPER.getClubBadge( abbreviation, iconSize, sportType ) %>" srcset="<%= IMAGE_HELPER.getClubBadge( abbreviation, iconSize, sportType ) %>, <%= IMAGE_HELPER.getClubBadge( abbreviation, iconSize, sportType, true ) %> 2x"> </span>'),PULSE.app.templates["content-article-item"]=_.template('<li class="<%= config.columnClass %> uniform-grid__section"> <a href="<%= url || \'\' %>" class="thumbnail thumbnail--news <%= isStatic ? \'thumbnail--static\' : \'\' %> <%= isFeatured ? \'thumbnail--featured\' : \'\' %> <%= config.thumbnailClass %> js-thumbnail <% if (!hotlink) { %>js-article-expand <% } %>" data-article-id="<%= id %>" <%= isFeatured ? \'data-is-featured\' : \'\' %> data-publish-date="<%= publishFrom %>" <% if (hotlink) { %> rel="noopener" target="_blank" <% } %> > <% var sponsorTag = TEMPLATE_HELPER.getSponsorTag( tags ) %> <figure class="thumbnail__figure"> <div class="thumbnail__picture-wrapper"> <div class="thumbnail__picture"> <svg class="thumbnail__default"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/club-badges.svg#BCN"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.barcelonabadge\') %></span> <% if( leadMedia ) { %> <picture class="thumbnail__picture-element"> <% var variants = IMAGE_HELPER.getVariantsForContentType(leadMedia) %> <% if( !isFeatured && variants ) { %> <% if ( config.gridWidth === \'3\' ) { %> <% var tabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var tabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% if ( tabletUrl &&  tabletUrlRetina ) { %> <source srcset="" data-image-src="<%= tabletUrl.url %>, <%= tabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 1025px)"> <% } %> <% } else if ( config.gridWidth === \'2\' ) { %> <% var wideUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbTablet) %> <% var wideUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbTabletRetina ) %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 1025px)"> <% } %> <% if ( wideUrl &&  wideUrlRetina ) { %> <source srcset="" data-image-src="<%= wideUrl.url %>, <%= wideUrlRetina.url %> 2x" media="(min-width: 1026px)"> <% } %> <% } %> <% } else if (variants) { %> <% if ( config.gridWidth === \'4\' ) { %> <% var tabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var tabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var wideUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featured ) %> <% var wideUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featuredRetina ) %> <% if ( tabletUrl &&  tabletUrlRetina ) { %> <source srcset="" data-image-src="<%= tabletUrl.url %>, <%= tabletUrlRetina.url %> 2x" media="(max-width: 1025px)"> <% } %> <% if ( wideUrl &&  wideUrlRetina ) { %> <source srcset="" data-image-src="<%= wideUrl.url %>, <%= wideUrlRetina.url %> 2x" media="(min-width: 1026px)"> <% } %> <% } else if ( config.gridWidth === \'3\' ) { %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% var tabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var tabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var wideUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featured ) %> <% var wideUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featuredRetina ) %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( tabletUrl &&  tabletUrlRetina ) { %> <source srcset="" data-image-src="<%= tabletUrl.url %>, <%= tabletUrlRetina.url %> 2x" media="(max-width: 1025px)"> <% } %> <% if ( wideUrl &&  wideUrlRetina ) { %> <source srcset="" data-image-src="<%= wideUrl.url %>, <%= wideUrlRetina.url %> 2x" media="(min-width: 1026px)"> <% } %> <% } else if ( config.gridWidth === \'2\' ) { %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% var tabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featured ) %> <% var tabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featuredRetina ) %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( tabletUrl &&  tabletUrlRetina ) { %> <source srcset="" data-image-src="<%= tabletUrl.url %>, <%= tabletUrlRetina.url %> 2x" media="(min-width: 641px)"> <% } %> <% } %> <% var mobileUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var mobileUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featured ) %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.featuredRetina ) %> <% if ( mobileUrl &&  mobileUrlRetina ) { %> <source srcset="" data-image-src="<%= mobileUrl.url %>, <%= mobileUrlRetina.url %> 2x" media="(max-width: 380px)"> <% } %> <% if ( phabletUrl &&  phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( imageUrl &&  imageUrlRetina ) { %> <source srcset="" data-image-src="<%= imageUrl.url %>, <%= imageUrlRetina.url %> 2x"> <% } %> <% } %> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <source srcset="" data-image-src="<%= imageUrl.url %>, <%= imageUrlRetina.url %> 2x"> <img src="<%= imageUrl.url %>" alt="<%= leadMedia.title || \'\' %>" class="thumbnail__image"> </picture> <% } %> </div> <% if (sponsorTag && !isFeatured) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <svg class="icon content-partner__logo content-partner__logo--<%= sponsorTag %>"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsorTag %>--white"></use></svg> <span class="visually-hidden"><%= sponsorTag %></span> </div> <% } %> </div> <figcaption class="thumbnail__caption"> <% if (sponsorTag && isFeatured) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <svg class="icon content-partner__logo content-partner__logo--<%= sponsorTag %>"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsorTag %>--white"></use></svg> <span class="visually-hidden"><%= sponsorTag %></span> </div> <% } %> <div class="thumbnail__text"> <% if (subtitle) { %> <div class="thumbnail__title"><%= subtitle %></div> <% } else { %> <div class="thumbnail__title"><%= title %></div> <% } %> <div class="thumbnail__desc"><%= description %></div> </div> <div class="thumbnail__meta"> <% var contentTag = TEMPLATE_HELPER.getMediaTag( tags, true ) %> <% if (contentTag) { %> <div class="content-tag content-tag--left"><span><%= PULSE.I18N.lookup(contentTag) %></span></div> <% } %> <time class="thumbnail__time"> <svg class="thumbnail__time-icon icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#clock"></use></svg> <span class="visually-hidden">${ cmsutil.i18n.lookup( "label.aria.clock" ) }</span> <%= publishDate %> </time> </div> </figcaption> </figure> </a> </li> '),PULSE.app.templates["content-gallery-item"]=_.template('<div class="uniform-grid__section <%= config.columnClass %>"> <a href="<%= url || \'\' %>" class="thumbnail thumbnail--gallery <%= config.thumbnailClass %>"> <figure class="thumbnail__figure"> <div class="thumbnail__picture-wrapper"> <div class="thumbnail__picture"> <svg class="thumbnail__default"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/club-badges.svg#BCN"></use></svg> <% if( coverItem ) { %> <picture class="js-lazy-picture thumbnail__picture-element lazy-load"> <% var variants = IMAGE_HELPER.getVariantsForContentType(coverItem) %> <% if ( config.gridWidth === \'2\' ) { %> <% var wideUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbTablet ) %> <% var wideUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbTabletRetina ) %> <% if ( wideUrl && wideUrlRetina ) { %> <source srcset="" data-image-src="<%= wideUrl.url %>, <%= wideUrlRetina.url %> 2x" media="(min-width: 1026px)"> <% } %> <% } %> <% var phabletUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumb ) %> <% var phabletUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbRetina ) %> <% var mobileUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.lowRes ) %> <% var mobileUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.lowResRetina ) %> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWide ) %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant( variants, config.variants.thumbWideRetina ) %> <% if ( phabletUrl && phabletUrlRetina ) { %> <source srcset="" data-image-src="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( mobileUrl && mobileUrlRetina ) { %> <source srcset="" data-image-src="<%= mobileUrl.url %>, <%= mobileUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( imageUrl && imageUrlRetina ) { %> <source srcset="" data-image-src="<%= imageUrl.url %>, <%= imageUrlRetina.url %> 2x"> <img src="" data-image-src="<%= imageUrl.url %>" alt="<%= coverItem.title || \'\' %>" class="thumbnail__image"> <% } %> </picture> <% } %> <div class="thumbnail__icon-container"> <div class="thumbnail__gallery-count"><%= itemCount %></div> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#camera"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.camera\') %></span> </div> </div> <% var sponsorTag = TEMPLATE_HELPER.getSponsorTag( tags ) %> <% if( sponsorTag ) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup( \'label.partner.explainer\' ) %></span> <svg class="icon content-partner__logo"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsorTag %>--white"></use></svg> <span class="visually-hidden"><%= sponsorTag %></span> </div> <% } %> </div> <figcaption class="thumbnail__caption"> <div class="thumbnail__text"> <div class="thumbnail__title"><%= title %></div> <div class="thumbnail__desc"><%= description %></div> </div> <div class="thumbnail__meta"> <div class="thumbnail__category"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#gallery"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.gallery\') %></span> <% var contentTag = TEMPLATE_HELPER.getMediaTag( tags, true ) %> <%= PULSE.I18N.lookup( contentTag ) || PULSE.I18N.lookup( \'label.gallery\' ) %> </div> <time class="thumbnail__time"> <svg class="thumbnail__time-icon icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#clock"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.clock\') %></span> <%= TEMPLATE_HELPER.dateAge( dateMillis ) %> </time> </div> </figcaption> </figure> </a> </div> '),PULSE.app.templates["content-news-feed-item"]=_.template('<% if( config.columnClass ) { %> <div class=" <%= config.columnClass %>"> <% } %> <a href="<%= url %>" class="thumbnail is-visible thumbnail--news <%= isStatic ? \'thumbnail--static\' : \'\' %> <%= isFeatured ? \'thumbnail--featured\' : \'\' %> js-thumbnail <% if (!hotlink) { %>js-article-expand <% } %> <%= config.thumbnailClass || \'\' %>" data-article-id="<%= id %>" <%= isFeatured ? \'data-is-featured\' : \'\' %> data-publish-date="<%= publishFrom %>" <% if (hotlink) { %> rel="noopener" target="_blank" <% } %>> <figure class="thumbnail__figure"> <div class="thumbnail__picture-wrapper"> <div class="thumbnail__picture"> <svg class="thumbnail__default"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/club-badges.svg#BCN"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.barcelonabadge\') %></span> <% if( leadMedia ) { %> <picture class="thumbnail__picture-element"> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), config.variants.thumb ).url %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant(IMAGE_HELPER.getVariantsForContentType(leadMedia), config.variants.thumbRetina ).url %> <source srcset="<%= imageUrl %>, <%= imageUrlRetina %> 2x"> <img src="<%= imageUrl %>" alt="<%= leadMedia.title || \'\' %>" class="thumbnail__image"> </picture> <% } %> </div> <% var sponsorTag = TEMPLATE_HELPER.getSponsorTag( tags ) %> <% if (sponsorTag) { %> <div class="content-partner"> <span class="content-partner__label"><%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <svg class="icon content-partner__logo content-partner__logo--<%= sponsorTag %>"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsorTag %>--white"></use></svg> <span class="visually-hidden"><%= sponsorTag %></span> </div> <% } %> </div> <figcaption class="thumbnail__caption"> <div class="thumbnail__text"> <% if (title) { %> <div class="thumbnail__title"><%= title %></div> <% } else { %> <div class="thumbnail__title"><%= subtitle %></div> <% } %> <div class="thumbnail__desc"><%= description %></div> </div> <div class="thumbnail__meta"> <% var contentTag = TEMPLATE_HELPER.getMediaTag( tags, true ) %> <% if (contentTag) { %> <div class="content-tag content-tag--left"><span><%= PULSE.I18N.lookup(contentTag) %></span></div> <% } %> <time class="thumbnail__time"> <svg class="thumbnail__time-icon icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#clock"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.clock\') %></span> <%= publishDate %> </time> </div> </figcaption> </figure> </a> <% if( config.columnClass ) { %> </div> <% } %> '),PULSE.app.templates["content-popup-image"]=_.template('<picture> <% if (mobileUrl && mobileUrlRetina) { %><source srcset="<%= mobileUrl.url %>, <%= mobileUrlRetina.url %> 2x" media="(max-width: 431px)"><% } %> <% if (phabletUrl && phabletUrlRetina) { %><source srcset="<%= phabletUrl.url %>, <%= phabletUrlRetina.url %> 2x" media="(max-width: 850px)"><% } %> <% if (desktopUrl && desktopUrlRetina) { %><source srcset="<%= desktopUrl.url %>, <%= desktopUrlRetina.url %> 2x"><% } %> <% if (desktopUrl) { %><img src="<%= desktopUrl.url %>"><% } %> </picture>'),PULSE.app.templates["content-video-item"]=_.template('<% if( typeof config !== \'undefined\' && config.columnClass ) { %><div class=" <%= config.columnClass %>"><% } %> <% if (url) { %> <a href="<%= url %><%= typeof config.playlistId !== \'undefined\' ? \'?videoPlaylist=\' + config.playlistId : \'\' %>" class="video-thumbnail <%= thumbClass %>"> <% } else { %> <div class="video-thumbnail <%= thumbClass %>"> <% } %> <div class="video-thumbnail__photo-container js-video-thumbnail-photo-container"> <svg class="default-bg-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/club-badges.svg#BCN"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.barcelonabadge\') %></span> <% if ( leadMedia.onDemandUrl ) { %> <picture class="video-thumbnail__photo lazy-image js-lazy-picture" data-odir="true" data-img-src="<%= leadMedia.onDemandUrl %>" data-img-alt="<%= subtitle || title %>"></picture> <% } else if (leadMedia.variants) { %> <picture class="video-thumbnail__photo lazy-image js-lazy-picture"> <% var mobileUrl = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Thumbnail - Phablet\' ) %> <% var mobileUrlRetina = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Thumbnail - Phablet (Retina)\' ) %> <% var imageUrl = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Standard Article Hero - Phablet\' ) %> <% var imageUrlRetina = IMAGE_HELPER.getPhotoByVariant( IMAGE_HELPER.getVariantsForContentType(leadMedia), \'Standard Article Hero - Phablet (Retina)\' ) %> <% if ( mobileUrl && mobileUrlRetina ) { %> <source srcset="" data-image-src="<%= mobileUrl.url %>, <%= mobileUrlRetina.url %> 2x" media="(max-width: 340px)"> <% } %> <% if ( imageUrl && imageUrlRetina ) { %> <source srcset="" data-image-src="<%= imageUrl.url %>, <%= imageUrlRetina.url %> 2x"> <img src="" data-image-src="<%= imageUrl.url %>" alt="<%= leadMedia.title || \'\' %>" class="lazy-image__img"> <% } %> </picture> <% } %> <div class="video-play"> <svg class="video-play__icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#play"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.play\') %></span> </div> <div class="video-thumbnail__video-status video-thumbnail__video-status--playing"> <div class="video-thumbnail__playing-text"> <%= STRING_HELPER.renderSplitText( PULSE.I18N.lookup( \'label.now-playing\' ), \'light\' ) %> </div> </div> <div class="video-thumbnail__video-status video-thumbnail__video-status--next"> <div class="video-thumbnail__playing-text"> <%= STRING_HELPER.renderSplitText( PULSE.I18N.lookup( \'label.up-next\' ), \'light\' ) %> </div> </div> </div> <div class="video-thumbnail__content"> <% if (typeof publishDate !== \'undefined\') { %> <div class="video-thumbnail__date"> <svg class="video-thumbnail__date-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#clock"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.clock\') %></span> <%= publishDate %> </div> <% } %> <div class="video-thumbnail__title"><%= subtitle || title %></div> <div class="video-thumbnail__meta"> <div class="video-thumbnail__duration"> <svg class="video-thumbnail__duration-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#play"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.play\') %></span> <%= duration %> </div> <%= TEMPLATE_HELPER.render( { mediaIds: id, mediaTitles: [ title ], showLabel: false }, \'my-list-cta\' ) %> </div> </div> <% if (url) { %> </div></a> <% } else { %> </div> <% } %> <% if( typeof config !== \'undefined\' && config.columnClass ) { %> <% } %> '),PULSE.app.templates["featured-promo"]=_.template('<section class="featured-promo featured-promo--active <%= cssClass %> <%= isVip ? \'featured-promo--premium\' : \'\' %>"> <div class="featured-promo__bg"> <picture class="featured-promo__image"> <% if ( variants.mobileUrl && variants.mobileUrlRetina ) { %> <source srcset="<%= variants.mobileUrl.url %>, <%= variants.mobileUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.phabletUrl && variants.phabletUrlRetina ) { %> <source srcset="<%= variants.phabletUrl.url %>, <%= variants.phabletUrlRetina.url %> 2x" media="(max-width: 640px)"> <% } %> <% if ( variants.tabletUrl && variants.tabletUrlRetina ) { %> <source srcset="<%= variants.tabletUrl.url %>, <%= variants.tabletUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.desktopSmallUrl && variants.desktopSmallUrlRetina ) { %> <source srcset="<%= variants.desktopSmallUrl.url %>, <%= variants.desktopSmallUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.desktopUrl && variants.desktopUrlRetina ) { %> <source srcset="<%= variants.desktopUrl.url %>, <%= variants.desktopUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.wideUrl && variants.wideUrlRetina ) { %> <source srcset="<%= variants.wideUrl.url %>, <%= variants.wideUrlRetina.url %> 2x" media="(max-width: 480px)"> <% } %> <% if ( variants.desktopUrl && variants.desktopUrlRetina ) { %> <img src="<%= variants.desktopUrl.url %>" alt="<%= promo.title || \'\' %>"> <% } %> </picture> </div> <div class="featured-promo__container"> <div class="featured-promo__header"> <% if ( sponsor.length ) { %> <div class="content-partner"> <span class="content-partner__label"> <%= PULSE.I18N.lookup(\'label.partner.explainer\') %></span> <svg class="icon content-partner__logo"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/partners.svg#<%= sponsor %>--white"></use></svg> <span class="visually-hidden">#<%= sponsor %></span> </div> <% } %> <div class="featured-widget__title"><%= promo.title %></div> <% if ( promo.description.length ) { %> <div class="featured-promo__description"><%= promo.description %></div> <% } %> <% if ( promo.links.length ) { %> <a href="<%= promo.links[0].promoUrl.length ? promo.links[0].promoUrl : \'#\' %>" class="button <%= isVip ? \'button--vip-tickets-on-dark\' : \'button--primary\' %> featured-promo__cta" <%= tracking %> ><%= promo.links[0].linkText %></a> <% } %> </div> </div> </section> '),PULSE.app.templates["forca-barca"]=_.template('<div class="força-barça <%= obj.cssClass ? obj.cssClass : \'\' %> js-forca-barca"> <div class="força-barça__label-wrapper"> <div class="força-barça__labels"> <div class="força-barça__title"><%= PULSE.I18N.lookup( \'label.forca-barca\' ) %></div> <div class="força-barça__section"> <svg class="icon max-claps-fire-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#fire"></use></svg> <div class="força-barça__counter js-forca-barca-counter"></div> </div> </div> </div> <div class="força-barça__icon js-forca-barca-button" role="button" tabindex="0"> <span class="visually-hidden"><%= PULSE.I18N.lookup( \'label.forca-barca\' ) %></span> <span class="clap-count-disc js-forca-clap-counter"></span> <span class="max-clap-total js-forca-max-clap-total"></span> <svg class="icon hand-icon hand-icon--top" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 191.7 197.6"><path class="fill" d="M111.7 9.1c5.2-6.2 13-6.9 19.2-1.7 6.2 5.2 7.8 13 2.6 19.2L146.6 11c5.2-6.2 14.4-7 20.6-1.8 6.2 5.2 7 14.4 1.8 20.6l-12.5 14.9c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-16.5 19.6c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7l21.4-25.3c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7l45.3-53.5z" fill="#fff"/><g class="stroke" fill="none" stroke="#ce202c" stroke-width="9" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"><path class="stroke" d="M80 91.1l66.5-79.3c5.2-6.2 14.4-7 20.6-1.8s7 14.4 1.8 20.6l-66.5 79.3M156.5 45.5c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-53.2 63.4"/><path class="stroke" d="M163.4 85.5c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7L44 48.5c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7L40.1 95.1l72.2-86c5.2-6.2 13.7-7.6 19.9-2.4 6.2 5.2 6.6 14.5 1.4 20.7"/></g></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.hand\') %></span> <svg class="icon hand-icon hand-icon--bottom" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 191.7 197.6"><path class="fill" d="M111.7 9.1c5.2-6.2 13-6.9 19.2-1.7 6.2 5.2 7.8 13 2.6 19.2L146.6 11c5.2-6.2 14.4-7 20.6-1.8 6.2 5.2 7 14.4 1.8 20.6l-12.5 14.9c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-16.5 19.6c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7l21.4-25.3c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7l45.3-53.5z" fill="#fff"/><g class="stroke" fill="none" stroke="#ce202c" stroke-width="9" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"><path class="stroke" d="M80 91.1l66.5-79.3c5.2-6.2 14.4-7 20.6-1.8s7 14.4 1.8 20.6l-66.5 79.3M156.5 45.5c5.2-6.2 14.6-6.1 20.8-.9 6.2 5.2 7.8 15.1 2.6 21.3l-53.2 63.4"/><path class="stroke" d="M163.4 85.5c5.2-6.2 13.8-8.3 20-3.1 6.2 5.2 6.2 13.8 1 20l-52.8 62.9c-27.3 32.5-73.9 38.4-104 13.1s-32.4-72.2-5.1-104.7L44 48.5c5.2-6.2 10.9-13.9 17-8.7s10.7 17.5 5.5 23.7L40.1 95.1l72.2-86c5.2-6.2 13.7-7.6 19.9-2.4 6.2 5.2 6.6 14.5 1.4 20.7"/></g></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.hand\') %></span> </div> </div>'),PULSE.app.templates["gallery-picture-item"]=_.template('<li class="gallery-modal__slide <%= isPortrait ? \'gallery-modal__slide--portrait\' : \'\' %>"> <div class="gallery-modal__photo-container"> <picture> <% _.each(picture.srcset, function(set) { %> <source srcset="<%= set.src %>" <% if (set.media) { %> media="<%= set.media %>" <% } %>> <% }) %> <img src="<%= picture.img %>" class="js-gallery-photo" alt="<%= title %>"> </picture> </div> </li>'),PULSE.app.templates["hero-photo"]=_.template('<div class="hero-photo"> <picture class="hero-photo__picture-element js-lazy-picture"> <% if (variants.mobileUrl && variants.mobileUrlRetina) { %><source srcset="" data-image-src="<%= variants.mobileUrl.url %>, <%= variants.mobileUrlRetina.url %> 2x" media="(max-width: 480px)"><% } %> <% if (variants.phabletUrl && variants.phabletUrlRetina) { %><source srcset="" data-image-src="<%= variants.phabletUrl.url %>, <%= variants.phabletUrlRetina.url %> 2x" media="(max-width: 640px)"><% } %> <% if (variants.tabletUrl && variants.tabletUrlRetina) { %><source srcset="" data-image-src="<%= variants.tabletUrl.url %>, <%= variants.tabletUrlRetina.url %> 2x" media="(max-width: 840px)"><% } %> <% if (variants.desktopSmallUrl && variants.desktopSmallUrlRetina) { %><source srcset="" data-image-src="<%= variants.desktopSmallUrl.url %>, <%= variants.desktopSmallUrlRetina.url %> 2x" media="(max-width: 1024px)"><% } %> <% if (variants.desktopUrl && variants.desktopUrlRetina) { %><source srcset="" data-image-src="<%= variants.desktopUrl.url %>, <%= variants.desktopUrlRetina.url %> 2x" media="(max-width: 1200px)"><% } %> <% if (variants.ultraWideUrl && variants.ultraWideUrlRetina) { %><source srcset="" data-image-src="<%= variants.ultraWideUrl.url %>, <%= variants.ultraWideUrlRetina.url %> 2x" media="(max-width: 1560px)"><% } %> <% if (variants.wideUrl && variants.wideUrlRetina) { %><source srcset="" data-image-src="<%= variants.wideUrl.url %>, <%= variants.wideUrlRetina.url %> 2x"><% } %> <% if (variants.desktopUrl) { %><img src="" data-image-src="<%= variants.desktopUrl.url %>" alt="<%= photo.title %>" class="hero-photo__image poly-object-fit"><% } %> </picture> </div> '),PULSE.app.templates["match-events"]=_.template('<% _.each(map, function(event) { %> <% if (event.type !== CONSTANTS.MATCH_EVENTS.ASSIST && event.teamId == teamId) { %> <div class="match-hero__event"> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.match.event.description.\' + event.type) %></span> <% cssClass = event.type === CONSTANTS.MATCH_EVENTS.OWNGOAL ? \'own-goal\' : (event.type === CONSTANTS.MATCH_EVENTS.GOAL ? \'goal\' : \'card\') %> <% icon = event.type === CONSTANTS.MATCH_EVENTS.GOAL || event.type === CONSTANTS.MATCH_EVENTS.OWNGOAL ? \'goal\' : \'card\' %> <svg class="match-hero__event-icon match-hero__event-icon--<%= cssClass %>"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/match-centre.svg#<%= icon %>"></use></svg> <span class="visually-hidden"><%= cssClass %></span> <% if (event.type === CONSTANTS.MATCH_EVENTS.YELLOWRED) { %> <svg class="match-hero__event-icon match-hero__event-icon--yellow-red-card"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/match-centre.svg#card"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.yellowredcard\') %></span> <% } %> <div class="match-hero__event-time"> <% player = FIXTURE_HELPER.getPlayer(event.personId, fixture) %> <% _.each(event.events, function(timeEvent, index) { %> <%= timeEvent %><% if (index < event.events.length - 1) { %>,<% } %> <% }) %> <span class="match-hero__event-player"><%= PLAYER_HELPER.getPlayerName(player) %></span> </div> </div> <% } %> <% }); %>'),PULSE.app.templates["my-list-cta"]=_.template('<div class="my-list-cta js-my-list-cta"> <%\n        var stringified = mediaTitles ? JSON.stringify( mediaTitles ) : \'\';\n        var encoded = STRING_HELPER.htmlEntities.encode( stringified );\n        var titles = encoded;\n    %> <div class="my-list-cta__button js-my-list-cta-button" data-media-id="<%= mediaIds %>" data-media-title="<%= titles %>" tabindex="0"> <svg class="my-list-cta__circle" viewBox="0 0 100 100"> <circle class="my-list-cta__circle-icn" cx="50" cy="50" r="48"/> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.circle\') %></span> <svg class="my-list-cta__icon my-list-cta__icon--add"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#my-list-add"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.listadd\') %></span> <svg class="my-list-cta__icon my-list-cta__icon--added"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#my-list-added"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.listadded\') %></span> </div> <% if ( showLabel ) { %> <span class="my-list-cta__label my-list-cta__label--add"><%= PULSE.I18N.lookup(\'label.addtolist\') %></span> <span class="my-list-cta__label my-list-cta__label--added"><%= PULSE.I18N.lookup(\'label.addedtolist\') %></span> <% } %> </div> '),PULSE.app.templates["new-episode-tag"]=_.template("<% if ( tags && TEMPLATE_HELPER.contentHasTag(tags, 'content-tag-new-episode') ) { %> <div class=\"new-episode-tag\"> <%= STRING_HELPER.renderSplitText(PULSE.I18N.lookup(labelText), 'new-episode-tag__highlight') %> </div> <% } %>"),PULSE.app.templates["photo-modal-content"]=_.template('<picture class="photo-modal__photo"> <% _.each(picture.srcset, function( set ) { %> <source srcset="<%= set.src %>" <% if (set.media) { %> media="<%= set.media %>" <% } %>> <% }) %> <img src="<%= picture.img %>" class="js-modal-photo" alt="<%= title %>"> </picture>'),PULSE.app.templates["photo-modal"]=_.template('<div class="modal photo-modal js-photo-modal"> <div class="photo-modal__content js-photo-modal-content"></div> <div class="photo-modal__close js-modal-close" role="button" tabindex="0"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#close"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.close\') %></span> </div> <div class="loader photo-modal__loader js-photo-modal-loader"></div> </div>'),PULSE.app.templates["render-svg"]=_.template('<svg class="icon <%= typeof cssClass !== \'undefined\' ? cssClass : \'\' %>"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="<%= environment.cdn %>i/svg-output/icn.svg#<%= name %>"></use> </svg> <span class="visually-hidden"><%= name %></span>'),PULSE.app.templates["slider-paginator"]=_.template('<% for ( var i = 0; i < slideNum; i++ ) { %> <li class="<%= widgetClass %>__control-wrap"> <button class="<%= widgetClass %>__pager js-pager-btn"> <span class="visually-hidden">${ cmsutil.i18n.lookup( \'label.page\' ) }-${ i + 1 }</span> </button> </li> <% } %>'),PULSE.app.templates["user-entitlement"]=_.template('<div class="user-entitlement"> <div class="user-entitlement__title"><%= title %></div> <div class="user-entitlement__description"><%= description %></div> <div class="user-entitlement__cta"> <button class="button button--secondary button--large user-entitlement__register js-register-btn" data-analytics="true" data-analytics-type="registre" data-analytics-section="registre-boto" data-analytics-event="draw"> <%= PULSE.I18N.lookup(\'label.register-for-free\') %> </button> <div class="user-entitlement__separator"><span><%= PULSE.I18N.lookup(\'label.or\') %></span></div> <span class="user-entitlement__already-registered"><%= PULSE.I18N.lookup(\'label.already-registered-login\') %></span> <button class="button button--primary button--large user-entitlement__login js-login-btn"> <%= PULSE.I18N.lookup(\'label.login\') %> </button> </div> </div> '),PULSE.app.templates["dropdown-item"]=_.template('<% if ( defaultOption && separateDefault ) { %> <li class="<%= cssClass %>__list-option is-selected js-dropdown-option js-dropdown-default" role="option" tabindex="0" data-option-name="<%= defaultOption %>" data-option-id="-1" data-option-index="-1"> <%= defaultOption %> </li> <% } %> <% _.each( data, function( option, index ) { %> <% var defaultOptionLabel = defaultOption !== false && ( defaultOption === option.optionLabel ) %> <% var defaultOptionIndexCorrect = defaultOptionIndex !== false && index === defaultOptionIndex  %> <% var defaultOptionIdCorrect = defaultOptionId !== false && defaultOptionId === option.optionId %> <%\n        var updatedLabel;\n        if ( option.optionId === 6400 && option.optionLabel.includes( \'ASOBAL\' ) ) {\n            var updatedLabel = PULSE.I18N.lookup( \'label.competition.ligaplenitude\' ) \n        } else {\n            updatedLabel = option.optionLabel\n        }\n    %> <li class="<%= cssClass %>__list-option js-dropdown-option <%= defaultOptionLabel || defaultOptionIndexCorrect || defaultOptionIdCorrect ? \'is-selected js-dropdown-default\' : \'\' %>" role="option" tabindex="0" data-option-name="<%= updatedLabel %>" data-option-id="<%= option.optionId %>" data-option-index="<%= index %>"> <%= updatedLabel %> </li> <% } ); %> '),PULSE.app.templates["dropdown-mobile-item"]=_.template('<% if ( defaultOption && separateDefault ) { %> <li class="dropdown-mobile__list-option is-selected js-dropdown-option js-dropdown-default" role="option" tabindex="0" data-option-name="<%= defaultOption %>" data-option-id="-1" data-option-index="-1"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#tick"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.share.tick\') %></span> <span><%= defaultOption %></span> </li> <% } %> <% _.each( data, function( option, index ) { %> <% var defaultOptionLabel = defaultOption !== false && ( defaultOption === option.optionLabel ) %> <% var defaultOptionIndex = defaultOptionIndex !== false && index === defaultOptionIndex  %> <% var defaultOptionIdCorrect = defaultOptionId !== false && defaultOptionId === option.optionId %> <%\n        var updatedLabel;\n        if ( option.optionId === 6400 && option.optionLabel.includes( \'ASOBAL\' ) ) {\n            var updatedLabel = PULSE.I18N.lookup( \'label.competition.ligaplenitude\' )\n        } else {\n            updatedLabel = option.optionLabel\n        }\n    %> <li class="dropdown-mobile__list-option js-dropdown-option <%= defaultOptionLabel || defaultOptionIdCorrect || (defaultOption && !separateDefault) ? \'is-selected js-dropdown-default\' : \'\' %>" role="option" tabindex="0" data-option-name="<%= updatedLabel %>" data-option-id="<%= option.optionId %>" data-option-index="<%= index %>"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#tick"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.aria.tick\') %></span> <span><%= updatedLabel %></span> </li> <% } ); %> '),PULSE.app.templates["dropdown-mobile"]=_.template('<div class="dropdown-mobile" data-dropdown-block="<%= dropdown.name %>" aria-expanded="false"> <div class="dropdown-mobile__label"> <%= PULSE.I18N.lookup(\'label.filter.select\') %> <span><%= PULSE.I18N.lookup(dropdown.label) %></span> </div> <ul class="dropdown-mobile__list" data-dropdown-list="<%= dropdown.name %>" role="listbox"> <% if ( dropdown.defaultOption && dropdown.separateDefault ) { %> <li class="dropdown-mobile__list-option is-selected js-dropdown-option js-dropdown-default" role="option" tabindex="0" data-option-name="<%= dropdown.defaultOption %>" data-option-id="-1" data-option-index="-1"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#tick"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.tick\') %></span> <span><%= dropdown.defaultOption %></span> </li> <% } %> <% if (dropdown.data) { %> <% _.each( dropdown.data, function( option, index ) { %> <li class="dropdown-mobile__list-option <%= ( dropdown.defaultOption && dropdown.defaultOption === option.optionLabel ) ? \'is-selected js-dropdown-default\' : \'\' %> js-dropdown-option" role="option" tabindex="0" data-option-name="<%= option.optionLabel %>" data-option-id="<%= option.optionId %>" data-option-index="<%= index %>"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#tick"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.tick\') %></span> <span><%= option.optionLabel %></span> </li> <% } ); %> <% } %> </ul> </div> '),PULSE.app.templates.dropdown=_.template('<div class="<%= cssClass %>" role="button" tabindex="0" data-dropdown-block="<%= dropdown.name %>" aria-expanded="false"> <% if ( dropdown.mobileLabel ) { %> <div class="<%= cssClass %>__label u-hide-phablet"><%= PULSE.I18N.lookup(dropdown.label) %></div> <div class="<%= cssClass %>__label u-show-phablet"><%= PULSE.I18N.lookup(dropdown.mobileLabel) %></div> <% } else { %> <div class="<%= cssClass %>__label"><%= PULSE.I18N.lookup(dropdown.label) %></div> <% } %> <div class="<%= cssClass %>__current js-dropdown-current"> <%= dropdown.defaultOption %> </div> <svg class="<%= cssClass %>__icon <%= cssClass %>__icon--chevron icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#caret-down"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.aria.caretdown\') %></span> <svg class="<%= cssClass %>__icon <%= cssClass %>__icon--close icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#close"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.aria.close\') %></span> <div class="<%= cssClass %>__list-container"> <div class="<%= cssClass %>__list-label"><%= PULSE.I18N.lookup(dropdown.label) %></div> <ul class="<%= cssClass %>__list" data-dropdown-list="<%= dropdown.name %>" role="listbox"> <% if ( dropdown.defaultOption && dropdown.separateDefault ) { %> <li class="<%= cssClass %>__list-option is-selected js-dropdown-option js-dropdown-default" role="option" tabindex="0" data-option-name="<%= dropdown.defaultOption %>" data-option-id="-1" data-option-index="-1"> <%= dropdown.defaultOption %> </li> <% } %> <% if (dropdown.data) { %> <% _.each( dropdown.data, function( option, index ) { %> <%\n                        var updatedLabel;\n                        if ( option.optionId === 6400 && option.optionLabel.includes( \'ASOBAL\' ) ) {\n                            var updatedLabel = PULSE.I18N.lookup( \'label.competition.ligaplenitude\' )\n                        } else {\n                            updatedLabel = option.optionLabel;\n                        }\n                    %> <li class="<%= cssClass %>__list-option js-dropdown-option <%= ( dropdown.defaultOption && ( dropdown.defaultOption === option.optionLabel ) ) ? \'is-selected js-dropdown-default\' : \'\' %> " role="option" tabindex="0" data-option-name="<%= updatedLabel %>" data-option-id="<%= option.optionId %>" data-option-index="<%= index %>"> <%= updatedLabel %> </li> <% } ); %> <% } %> </ul> </div> <div class="<%= cssClass %>__list-triangle"></div> <div class="loader loader--small"></div> </div> '),PULSE.app.templates["lazy-picture-element"]=_.template('<source srcset="<%= imgUrlStandard %>, <%= imgUrlRetina %> 2x"> <img class="lazy-image__img js-faded-image" src="<%= imgUrlStandard %>" alt="<%= imgAlt %>">'),PULSE.app.templates["intersection-nav-items"]=_.template(" <% if( dates.length > 1 ) { %> <% dates.forEach( function(date) { %> <div tabindex=\"0\" data-href=\"#<%= date ? date.format( 'YYYY' ) : PULSE.I18N.lookup( 'label.fixture.tbc' ) %>-<%= date ? date.format( 'MMM' ) : PULSE.I18N.lookup( 'label.fixture.tbc' ) %>\" class=\"section-navigation__text-container js-fixture-list-date-container\"> <div class=\"section-navigation__subheading\"> <%if (language === 'ja') { %> <% var dateYear = date.format( 'YYYY年' ); %> <% } else { %> <% var dateYear = date.format( 'YYYY' ); %> <% } %> <%= date ? dateYear : PULSE.I18N.lookup( 'label.fixture.tbc' ) %> </div> <div class=\"section-navigation__heading\"> <%= date ? date.format( 'MMM' ) : PULSE.I18N.lookup( 'label.fixture.tbc' ) %> </div> </div> <% } ); %> <% } %> "),PULSE.app.templates["search-empty"]=_.template("<span class=\"search-page__empty-message\"> <%= PULSE.I18N.lookup( 'label.nocontent.search' ) %> </span>"),PULSE.app.templates["search-loader"]=_.template('<div class="loader loader--center"></div>'),PULSE.app.templates.facebook_card=_.template('<% var hasPhoto = (typeof photo !== \'undefined\' && photo) ? true : false; %> <div class="social-feed-card social-feed-card--facebook <% if (!hasPhoto) { %>social-feed-card--no-photo<% } %>"> <div class="social-feed-card__social-logo"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#facebook"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.aria.facebook\') %></span> </div> <% if ( hasPhoto ) { %> <div class="social-feed-card__image-container"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__imageLink"> <img class="social-feed-card__image" src="<%= photo %>" alt="<%= PULSE.I18N.lookup(\'label.social.user-profile-image\', { username: user.name }) %>"> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.viewuser\', { username: user.name }) %></span> </a> </div> <% } %> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__profile-image"> <img src="<%= user.avatarUrl %>" alt="<%=user.account%> Profile Image"> </a> <% if ( hasPhoto ) { %> <div class="social-feed-card__content-container"> <% } %> <div class="social-feed-card__content <% if ( !hasPhoto ) { %> social-feed-card__content--large <% } %>"> <div class="social-feed-card__content-header"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__account-name"><%= user.name %></a><span class="social-feed-card__account-handle"> <%= user.account %></span><span class="social-feed-card__time">• <%= timestamp %></span> </div> <div class="social-feed-card__content-body"><%= text %></div> </div> <% if ( hasPhoto ) { %> </div> <% } %> <div class="social-feed-card__share-options"> <div class="social-feed-card__share-container"> <a class="social-feed-card__interaction" href="<%= link %>" target="_blank" rel="noopener"> <svg class="icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#facebook-share"></use></svg> <span class="social-feed-card__share-text"><%= PULSE.I18N.lookup(\'label.share\') %></span> </a> </div> </div> </div> '),PULSE.app.templates.instagram_card=_.template('<% var hasPhoto = (typeof photo !== \'undefined\' && photo) ? true : false; %> <div class="social-feed-card social-feed-card--instagram <% if (!hasPhoto) { %>social-feed-card--no-photo<% } %>"> <div class="social-feed-card__social-logo"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#instagram"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.aria.facebook\') %></span> </div> <% if (hasPhoto) { %> <div class="social-feed-card__image-container"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__imageLink"> <img class="social-feed-card__image" src="<%= photo %>" alt="<%= PULSE.I18N.lookup(\'label.social.user-profile-image\', { username: user.name }) %>"> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.viewuser\', { username: user.name }) %></span> </a> </div> <% } %> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__profile-image"> <img src="<%= user.avatarUrl %>" alt="<%=user.account%> Profile Image"> </a> <% if ( hasPhoto ) { %> <div class="social-feed-card__content-container"> <% } %> <div class="social-feed-card__content <% if ( !hasPhoto ) { %> social-feed-card__content--large <% } %>"> <div class="social-feed-card__content-header"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__account-name"><%= user.name %></a><span class="social-feed-card__account-handle"> <%= user.account %></span><span class="social-feed-card__time">• <%= timestamp %></span> </div> <div class="social-feed-card__content-body"><%= text %></div> </div> <% if ( hasPhoto ) { %> </div> <% } %> <div class="social-feed-card__share-options"> <div class="social-feed-card__share-container"> <a class="social-feed-card__interaction" href="<%= link %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#insta-like"></use> </svg> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.favourite\') %></span> </a> <a class="social-feed-card__interaction" href="<%= link %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#insta-comment"></use> </svg> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.comment\') %></span> </a> </div> </div> <div class="social-feed-card__brand-line"></div> </div> '),PULSE.app.templates["social-share-expand-btn"]=_.template('<div class="cta-icon cta-icon--share-expand <%= obj.cssClass ? obj.cssClass : \'\' %>"> <div class="cta-icon__trigger-wrapper js-expand-btn js-open-share"> <div class="cta-icon__trigger"> <svg class="cta-icon__icon icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#share"></use></svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.aria.share\') %></span> </div> <div class="cta-icon__text"><%= PULSE.I18N.lookup( obj.label || \'label.share\' ) %></div> </div> </div>'),PULSE.app.templates.twitter_card=_.template('<% var hasPhoto = (typeof photo !== \'undefined\' && photo) ? true : false; %> <div class="social-feed-card social-feed-card--twitter <% if (!hasPhoto) { %>social-feed-card--no-photo<% } %>"> <div class="social-feed-card__social-logo"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/icn.svg#twitter"></use> </svg> <span class="visually-hidden"><%= PULSE.I18N.lookup(\'label.aria.twitter\') %></span> </div> <% if ( hasPhoto ) { %> <div class="social-feed-card__image-container"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__imageLink"> <img class="social-feed-card__image" src="<%= photo %>" alt="<%= PULSE.I18N.lookup(\'label.social.user-profile-image\', { username: user.name }) %>"> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.viewuser\', { username: user.name }) %></span> </a> </div> <% } %> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__profile-image"> <img src="<%= user.avatarUrl %>" alt="<%=user.account%> Profile Image"> </a> <% if ( hasPhoto ) { %> <div class="social-feed-card__content-container"> <% } %> <div class="social-feed-card__content <% if ( !hasPhoto ) { %> social-feed-card__content--large <% } %>"> <div class="social-feed-card__content-header"> <a href="<%= link %>" target="_blank" rel="noopener" class="social-feed-card__account-name"><%= user.name %></a><span class="social-feed-card__account-handle"> <%= user.account %></span><span class="social-feed-card__time">• <%= timestamp %></span> </div> <div class="social-feed-card__content-body"><%= text %></div> </div> <% if ( hasPhoto ) { %> </div> <% } %> <div class="social-feed-card__share-options"> <div class="social-feed-card__share-container"> <a class="social-feed-card__interaction" href="https://twitter.com/intent/tweet?in_reply_to=<% if (typeof idTrimmed !== \'undefined\') { %><%= idTrimmed %><% } %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#twitter-comment"></use> </svg> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.replyto\') %></span> </a> <a class="social-feed-card__interaction" href="https://twitter.com/intent/retweet?tweet_id=<% if (typeof idTrimmed !== \'undefined\') { %><%= idTrimmed %><% } %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#twitter-retweet"></use> </svg> <span class="social-feed-card__share-text"><%= retweets %></span> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.retweet\') %></span> </a> <a class="social-feed-card__interaction" href="https://twitter.com/intent/like?tweet_id=<% if (typeof idTrimmed !== \'undefined\') { %><%= idTrimmed %><% } %>" target="_blank" rel="noopener"> <svg class="icon"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/resources/<%= window.RESOURCE_VERSION %>/i/svg-output/social-feed.svg#twitter-like"></use> </svg> <span class="social-feed-card__share-text"><%= favorites %></span> <span class="u-screen-reader"><%= PULSE.I18N.lookup(\'label.social.favourite\') %></span> </a> </div> </div> </div> '),PULSE.app.templates["checkout-loader"]=_.template('<div class="checkout-loader loader loader--center js-checkout-loader"> <div class="checkout-loader__bg"></div> </div>'),function(e,t){e.checkLogin=function(){if(USER_HELPER.isUserLoggedIn()||USER_HELPER.hasValidRefreshToken()){const e=USER_HELPER.getUserUUID();fcbDL.usuari.idUsuari=`barcafans-${e}`,USER_HELPER.setUserVariables().finally(()=>{fcbDL.contingut.URL=n(),a();const e=t.url.removeURLParameters(window.location.href,["auth_event","auth_method","ref_url","referer"]);history.replaceState(history.state,document.title,e)})}else a()};const a=function(){_satellite.track("scVPage")},n=function(){const e=o("ref_url")||o("referer");return e||`${window.location.host}${window.location.pathname}`},o=function(e){const a=t.url.getParam(e);if(a&&"unknown"!==a)return a}}(PULSE.app,PULSE.core),PULSE.app.ClubBadge=class{constructor(e){this.container=e,this.badges=[].slice.call(this.container.querySelectorAll(".js-badge-image")),this.init()}init(){this.badges.forEach(e=>{const t=e.parentElement.dataset.size||"20";e.onerror=function(){this.onerror=null,this.src=IMAGE_HELPER.getDefaultClubBadge(t,!0),this.removeAttribute("srcset")}})}},function(e){const t=function(){const e=this;switch(e.getContentType()){case"playlist":return"PHOTO"===e.getTypeRestriction()?"content-gallery-item":"";case"video":return"content-video-item";case"text":return"content-news-feed-item";default:return""}};e.ContentModel=function(t,a){const n=this;n.data=t,n.type=t.type,n.hotlinkUrl=t.hotlinkUrl,n.featured=TEMPLATE_HELPER.contentHasTag(t.tags,CONSTANTS.TAGS.TYPE.FEATURED.tag),n.featured=TEMPLATE_HELPER.contentHasTag(t.tags,CONSTANTS.TAGS.TYPE.FEATURED.tag),n.static="text"===t.type&&!TEMPLATE_HELPER.contentHasTag(t.tags,CONSTANTS.TAGS.TYPE.NEWS.tag),n.config=Object.freeze({...PRESET_CONFIG.CONTENT_MODEL,...a}),n.element=n.getHtmlElement(),n.element&&(n.lazyImage=new e.LazyPictureElement(n.element.querySelector(`.${CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT}`)))},e.ContentModel.prototype.getHtml=function(){const e=this,a={config:e.config,coverItem:e.getCoverItem(),dateMillis:e.getDateMillis(),description:e.getDescription(),id:e.getId(),isFeatured:e.isFeatured(),isStatic:e.isStatic(),itemCount:e.getDataItemCount(),leadMedia:e.getLeadMedia(),publishDate:e.getPublishDate(),publishFrom:e.getPublishFrom(),tags:e.getTags(),title:e.getTitle(),subtitle:e.getSubtitle(),hotlink:e.getHotlink(),url:e.getUrl()||"",thumbClass:""};return"video"===e.type&&(a.categoryLabel=e.getCategoryLabel(),a.duration=e.getDuration(),a.entitlement=e.getEntitlement(),a.mediaId=e.getMediaId(),a.views=e.getViews()),TEMPLATE_HELPER.render(a,e.config.template||t.call(e))},e.ContentModel.prototype.getContentType=function(){return this.type},e.ContentModel.prototype.getCategoryLabel=function(){const e=VIDEO_HELPER.getTagByPartial(this.data.tags,"content-category");return e?PULSE.I18N.lookup("label.category."+e.label.replace("content-category-","")):null},e.ContentModel.prototype.getCoverItem=function(){return this.data.coverItem||!1},e.ContentModel.prototype.getDataItemCount=function(){const e=this;return e.data&&e.data.items?e.data.items.length:0},e.ContentModel.prototype.getDateMillis=function(){return this.data.publishFrom},e.ContentModel.prototype.getDescription=function(){return this.data.description},e.ContentModel.prototype.getDuration=function(){return VIDEO_HELPER.formatDuration(VIDEO_HELPER.parseDuration(this.data.duration))},e.ContentModel.prototype.getEntitlement=function(){return VIDEO_HELPER.getEntitlement(this.data)},e.ContentModel.prototype.getHtmlElement=function(){return document.createRange().createContextualFragment(this.getHtml())},e.ContentModel.prototype.getId=function(){return this.data.id},e.ContentModel.prototype.getLeadMedia=function(){return this.data.leadMedia||this.data.thumbnail||null},e.ContentModel.prototype.getMediaId=function(){return this.data.mediaId},e.ContentModel.prototype.getPublishDate=function(){return moment(this.data.publishFrom).format(this.config.getDateFormat())},e.ContentModel.prototype.getPublishFrom=function(){return this.data.publishFrom},e.ContentModel.prototype.getTags=function(){return this.data.tags},e.ContentModel.prototype.getTitle=function(){return this.data.title},e.ContentModel.prototype.getSubtitle=function(){return this.data.subtitle},e.ContentModel.prototype.getTypeRestriction=function(){return this.data.typeRestriction},e.ContentModel.prototype.getUrl=function(){const e=this;if(e.hotlinkUrl)return e.hotlinkUrl;const t="text"===e.getContentType()?e.isFeatured()?"featured":null:e.getTypeRestriction();return URL_HELPER.generateUrl(e.static?"static":e.getContentType(),e.getId(),t,e.getTitle(),"https",e.getTags())},e.ContentModel.prototype.getViews=function(){return VIDEO_HELPER.renderViews(this.data.views)},e.ContentModel.prototype.isFeatured=function(){return this.featured},e.ContentModel.prototype.getHotlink=function(){return this.hotlinkUrl},e.ContentModel.prototype.isStatic=function(){return this.static}}(PULSE.app.common),function(e,t){const a=`content-slider__item-wrap${CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE}`;e.ContentSlider=function(e,n={}){const o=this;o.container=e,o.itemsPerPage=parseInt(o.container.getAttribute("data-slide")),o.scrollContainer=o.container.querySelector(".js-slide"),o.slider=new t.Slider({buttonHideClass:"content-slider__slide-arrow--inactive",container:o.container,itemActiveClass:n.itemActiveClass||a,nextButton:o.container.querySelector(".js-next"),nudgeLeftClass:"content-slider__list--nudge-left",nudgeRightClass:"content-slider__list--nudge-right",pagerActiveClass:"content-slider__pager--active",pagerElements:o.container.querySelectorAll(".js-pager-btn"),pagerItemsContainer:o.container.querySelector(".js-pager-items"),perPage:o.itemsPerPage,prevButton:o.container.querySelector(".js-prev"),slideContainer:o.scrollContainer,sliderElements:o.scrollContainer.querySelectorAll(".js-thumb")}),o.imageSet=DOM_HELPER.nodeListToArray(o.container.querySelectorAll("picture")),o.imageSet.forEach(e=>{new t.LazyPictureElement(e)})}}(PULSE.app,PULSE.app.common),function(e,t,a){const n=function(){};e.contentTracker=function(e,o,i,s){const l={contentType:i||e.getAttribute("data-tracker-type"),contentId:s||e.getAttribute("data-tracker-id"),action:o||e.getAttribute("data-tracker-action")},r=function(e){let t="";return e.contentType||(t+="The content event must include a contentType or 'data-tracker-type' on the element/n"),e.contentId||(t+="The content event must include a contentId or 'data-tracker-id' on the element/n"),e.action||(t+="The content event must include an action or 'data-tracker-action' on the element/n"),t}(l);if(r.length>0)return r;const c={url:t.environment.trackingAPI,headers:[t.accountHeader],data:l,method:"POST",callback:n};return a.data.manager.add(c),!0};const o=document.querySelectorAll("[data-tracker-action]");for(let t=0;t<o.length;t++)e.contentTracker(o[t])}(PULSE.app.common,PULSE.app,PULSE.core),function(e,t,a){t.ContentGrid=function(e,a){const o=this;o.noContent=e.querySelector(".js-no-content"),o.listContainer=e.querySelector(".js-content-grid-wrapper"),o.showMoreElement=e.querySelector(`.${CONSTANTS.JS_CLS_NAMES.SHOW_MORE}`),o.pageLimit=CONSTANTS.CONTENT_API.DEFAULT_PAGE_SIZE,o.template=a.template||null,o.createModelCallback=a.createModelCallback||null,o.onRenderCallback=a.onRenderCallback||null,o.urlGenerator=a.urlGenerator||null,o.dataType=a.dataType||null,o.contentId=a.id||null,o.contentType=a.contentType||null,o.listFilter=new t.FilterOptions(a.filters),o.pagination={offset:0,limit:o.pageLimit},o.showMore=new t.ShowMore(o.showMoreElement,{callback:n.bind(o)})};const n=function(){this.getPage(!1)};t.ContentGrid.prototype.getPage=function(e){const t=this;let n;e?t.listFilter.updateFilters({page:0}):t.listFilter.updateFilters({page:t.listFilter.get().offset+t.pageLimit}),"matches"===t.dataType?n=t.contentType||t.contentId?t.urlGenerator(t.contentType,t.contentId,t.listFilter.get()):t.urlGenerator(t.listFilter.get()):"playlist"===t.dataType&&(n=t.urlGenerator("playlist",t.contentId,t.listFilter.get()));const o={url:n,callback:a=>{t.render(a,e)},forceCallback:!0,target:t};a.data.manager.add(o)},t.ContentGrid.prototype.render=function(n,o){const i=this,s=i.createModelCallback(n);o&&(i.listContainer.innerHTML="",s.length?a.style.addClass(i.noContent,CONSTANTS.STYLE_CLS_NAMES.HIDE):a.style.removeClass(i.noContent,CONSTANTS.STYLE_CLS_NAMES.HIDE)),s.forEach(e=>{const t=document.createElement("li");t.classList.add("content-grid__item"),"function"==typeof e.getHtml?t.innerHTML=e.getHtml():t.innerHTML=TEMPLATE_HELPER.render(e,i.template),i.listContainer.appendChild(t)}),[].forEach.call(i.listContainer.querySelectorAll(`.${CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT}`),function(e){new t.LazyPictureElement(e,!1)}),[].forEach.call(i.listContainer.querySelectorAll(".js-my-list-cta"),function(t){new e.common.MyListCTA(t)}),i.showMore&&i.showMore.setPagination(i.pagination),i.onRenderCallback&&i.onRenderCallback()}}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t){const a=["days","hours","minutes","seconds"],n=function(e,t){return Math.floor(e/t)},o=function(){const e=this;e.clock=e.element.querySelector(".js-countdown-clock"),e.divisions={days:e.element.querySelector(".js-countdown-days"),hours:e.element.querySelector(".js-countdown-hours"),minutes:e.element.querySelector(".js-countdown-minutes"),seconds:e.element.querySelector(".js-countdown-seconds")},t.style.removeClass(e.clock,CONSTANTS.STYLE_CLS_NAMES.VISUALLY_HIDDEN),c.call(e),e.liveRefresh=setInterval(function(){c.call(e)},CONSTANTS.TIME.ONE_SECOND)},i=function(){const e=this;t.style.addClass(e.element,"has-finished"),clearInterval(e.liveRefresh),e.subscribeSelectors&&s.call(e)},s=function(){const e=document.querySelectorAll(this.subscribeSelectors);for(let a=0;a<e.length;a++)t.style.addClass(e[a],"countdown-ended")},l=function(e,t){this.divisions[t].innerHTML=e<10?`0${e}`:e},r=function(e){t.style.addClass(this.divisions[e].parentNode.parentNode,"is-zero")},c=function(){const e=this,t=(new Date).getTime();let o=e.time-t;if(o<=0)i.call(e);else{let t=0,i=0;for(let s=0;s<a.length;s++){let c=0;switch(a[s]){case"days":c=n(o,CONSTANTS.TIME.ONE_DAY),t=c,o-=c*CONSTANTS.TIME.ONE_DAY,0===t&&r.call(e,"days");break;case"hours":c=n(o,CONSTANTS.TIME.ONE_HOUR),i=c,o-=c*CONSTANTS.TIME.ONE_HOUR,0===t&&0===c&&r.call(e,"hours");break;case"minutes":c=n(o,CONSTANTS.TIME.ONE_MINUTE),o-=c*CONSTANTS.TIME.ONE_MINUTE,0===t&&0===i&&0===c&&r.call(e,"minutes");break;case"seconds":c=n(o,CONSTANTS.TIME.ONE_SECOND),o-=c*CONSTANTS.TIME.ONE_SECOND}l.call(e,c,a[s])}}};e.CountdownClock=function(e){const t=this;t.element=e,t.time=Number(t.element.getAttribute("data-timestamp")),t.subscribeSelectors=t.element.getAttribute("data-subscribe-elems"),Number.isNaN(t.time)||o.call(t)};const d=document.querySelectorAll('[data-widget="countdown"]');for(let t=0;t<d.length;t++)new e.CountdownClock(d[t])}(PULSE.app.common,PULSE.core),function(e,t){const a="js-dropdown-option",n="js-dropdown-default",o=function(){const e=this;t.dom.appendDomString(e.config.container,TEMPLATE_HELPER.render({dropdown:e.config.dropdown,cssClass:e.config.barcaTv?"barca-videos-dropdown":"dropdown"},"dropdown")),e.element=e.config.container.querySelector(`[data-dropdown-block="${e.config.dropdown.name}"]`),e.current=e.element.querySelector(".js-dropdown-current"),e.list=e.element.querySelector(`[data-dropdown-list="${e.config.dropdown.name}"]`),e.defaultOption=e.list.querySelector(`.${n}`),e.selectedOption=e.list.querySelector(`.${CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED}`)},i=function(){const e=this;e.config.mobileContainer&&(t.dom.appendDomString(e.config.mobileContainer,TEMPLATE_HELPER.render({dropdown:e.config.dropdown},"dropdown-mobile")),e.mobileElement=e.config.mobileContainer.querySelector(`[data-dropdown-block="${e.config.dropdown.name}"]`),e.mobileList=e.config.mobileContainer.querySelector(`[data-dropdown-list="${e.config.dropdown.name}"]`),e.mobileDefaultOption=e.mobileList.querySelector(`.${n}`),e.mobileSelectedOption=e.mobileList.querySelector(`.${CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED}`))},s=function(){const e=this;A11Y_HELPER.addListener(e.element,t=>{t.keyCode!==CONSTANTS.KEY_CODES.ENTER&&"click"!==t.type||e.toggleDropdown()})},l=function(){const e=this,t=e.list.querySelectorAll(`.${a}`);for(let a=0;a<t.length;a++)A11Y_HELPER.addListener(t[a],t=>{t.keyCode!==CONSTANTS.KEY_CODES.ENTER&&"click"!==t.type||e.selectOption(t.currentTarget.getAttribute("data-option-index"))});if(!e.mobileList)return;const n=e.mobileList.querySelectorAll(`.${a}`);for(let t=0;t<n.length;t++)n[t].addEventListener("click",t=>{e.selectOption(t.currentTarget.getAttribute("data-option-index"),!1,!0)})};e.Dropdown=function(e={}){const t=this;t.config=e,t.initialised=!1,t.firstRender=!1,o.call(t),i.call(t),s.call(t),l.call(t)},e.Dropdown.prototype.getName=function(){return this.config.dropdown.name},e.Dropdown.prototype.toggleDropdown=function(){const e=this,a=e.element.querySelector(".dropdown__list-container");if(t.style.hasClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_OPEN))e.closeDropdown(),a&&a.setAttribute("aria-hidden","true");else if(!e.disabled&&!t.style.hasClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_LOADING)){const n=e.element.parentNode.querySelectorAll("[data-dropdown-block]");for(let e=0;e<n.length;e++)t.style.removeClass(n[e],CONSTANTS.STYLE_CLS_NAMES.IS_OPEN),n[e].setAttribute("aria-expanded","false");t.style.addClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_OPEN),e.element.setAttribute("aria-expanded","true"),a&&a.removeAttribute("aria-hidden"),e.config.widgetContainer&&(t.style.addClass(e.config.widgetContainer,CONSTANTS.STYLE_CLS_NAMES.IS_OPEN),e.config.widgetContainer.setAttribute("aria-expanded","true")),window.matchMedia(`(max-width: ${CONSTANTS.BREAKPOINTS.PHABLET}px)`).matches&&t.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.NO_OVERFLOW_CLASS)}},e.Dropdown.prototype.closeDropdown=function(){const e=this;t.style.removeClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_OPEN),e.element.setAttribute("aria-expanded","false"),e.config.widgetContainer&&(t.style.removeClass(e.config.widgetContainer,CONSTANTS.STYLE_CLS_NAMES.IS_OPEN),e.config.widgetContainer.setAttribute("aria-expanded","false")),window.matchMedia(`(max-width: ${CONSTANTS.BREAKPOINTS.PHABLET}px)`).matches&&t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.NO_OVERFLOW_CLASS)},e.Dropdown.prototype.setData=function(e){const a=this,n=CLONE_HELPER.cloneObject(a.config.dropdown);n.rawData=e,n.data=[],a.config.dropdown=n,e.forEach(e=>{const n={optionLabel:t.object.getNestedItemFromPath(a.config.dropdown.dataNamePath,e),optionId:t.object.getNestedItemFromPath(a.config.dropdown.dataIdPath,e)};a.config.dropdown.data.push(n)})},e.Dropdown.prototype.updateOptions=function(e){const t=this;if(!t.config.dropdown.data||0===t.config.dropdown.data.length)return;const a={defaultOption:!1,defaultOptionIndex:!1,defaultOptionId:!1,...t.config.dropdown,...e,cssClass:t.config.barcaTv?"barca-videos-dropdown":"dropdown"};if(t.list.innerHTML=TEMPLATE_HELPER.render(a,"dropdown-item"),t.defaultOption=t.list.querySelector(`.${n}`),t.selectedOption=t.list.querySelector(`.${CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED}`),t.mobileList&&(t.mobileList.innerHTML=TEMPLATE_HELPER.render(a,"dropdown-mobile-item"),t.mobileDefaultOption=t.mobileList.querySelector(`.${n}`),t.mobileSelectedOption=t.mobileList.querySelector(`.${CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED}`)),l.call(t),!1!==a.defaultOptionIndex)t.selectOption(a.defaultOptionIndex,!0!==a.forceDataReload);else if(!1!==a.defaultOptionId){const e=t.config.dropdown.data.findIndex(({optionId:e})=>e.toString()===a.defaultOptionId.toString());t.selectOption(e,!0!==a.forceDataReload)}a.lastDropdownInit&&!t.initialised&&(t.initialised=!0,"function"==typeof t.config.onDropdownInit&&t.config.onDropdownInit()),t.firstRender=!0},e.Dropdown.prototype.getCurrentOption=function(){const e=this;return e.selectedOption?{optionId:e.selectedOption.getAttribute("data-option-id"),optionName:e.selectedOption.getAttribute("data-option-name")}:{}},e.Dropdown.prototype.getRawData=function(){return this.config.dropdown.rawData};const r=function(e,a){const n=this;e&&t.style.removeClass(e,CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED),a&&t.style.removeClass(a,CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED),n.selectedOption&&t.style.addClass(n.selectedOption,CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED),n.mobileSelectedOption&&t.style.addClass(n.mobileSelectedOption,CONSTANTS.STYLE_CLS_NAMES.IS_SELECTED)};e.Dropdown.prototype.selectOption=function(e,t,a){const o=this,i=o.selectedOption,s=o.mobileSelectedOption;let l=!1,d=!1;e.toString()===CONSTANTS.FILTERS.DEFAULT_OPTION_ID?(l=o.list.querySelector(`.${n}`),d=o.mobileList?o.mobileList.querySelector(`.${n}`):null):(l=o.list.querySelector(`[data-option-index="${e}"]`),d=o.mobileList?o.mobileList.querySelector(`[data-option-index="${e}"]`):null),o.selectedOption=l,o.mobileSelectedOption=d;const{optionId:p,optionName:u}=o.getCurrentOption();r.call(o,i,s),void 0!==u&&(o.current.innerText=u),o.config.dropdown.urlParams&&c.call(o,p),t||"function"!=typeof o.config.onSelectCallback||o.config.onSelectCallback({dropdownName:o.config.dropdown.name,label:u,id:p,mobile:a})},e.Dropdown.prototype.disable=function(){const e=this;e.disabled=!0,t.style.addClass(e.element,CONSTANTS.STYLE_CLS_NAMES.IS_DISABLED),e.resetToDefault(!0)},e.Dropdown.prototype.enable=function(){this.disabled=!1,t.style.removeClass(this.element,CONSTANTS.STYLE_CLS_NAMES.IS_DISABLED)},e.Dropdown.prototype.resetToDefault=function(e,a){const n=this;n.selectOption("-1",e),a&&(t.style.removeClass(n.element,CONSTANTS.STYLE_CLS_NAMES.IS_DISABLED),n.disabled=!1,n.config.dropdown.urlParams&&window.history.replaceState({},document.title,window.location.pathname))};const c=function(e){const t=this.config.dropdown,a=new URLSearchParams(window.location.search);this.firstRender&&(a.set(t.urlParams.param,e),window.history.replaceState({},document.title,`?${a.toString()}`))}}(PULSE.app.common,PULSE.core),function(e,t){const a="embeddable-download--audio-playing",n=function(){const e=this;A11Y_HELPER.addListener(e.link,t=>{t.preventDefault(),e.player.paused?e.player.play():e.player.pause()}),e.player.addEventListener("play",()=>{t.style.addClass(e.container,a)}),e.player.addEventListener("pause",()=>{t.style.removeClass(e.container,a)})};e.EmbeddableAudioDownload=function(e){const t=this;t.container=e,t.player=t.container.querySelector(".js-audio-player"),t.link=t.container.querySelector(".js-link-element"),n.call(t)}}(PULSE.app.common,PULSE.core),function(e,t){const a=function(){const e=this;e.modal=new t.Modal({items:[],openCallback:n.bind(e),template:"photo-modal"}),e.modalContentElem=e.modal.config.wrap.querySelector(".js-photo-modal-content")},n=function(){const e=this,t={picture:JSON.parse(e.modal.thumbElement.dataset.fullscreenData),title:e.modal.thumbElement.dataset.title||""};e.modalContentElem.innerHTML=TEMPLATE_HELPER.render(t,"photo-modal-content")},o=function(){};o.prototype.addPhoto=function(e){const t=this,n=e.querySelector(".js-embeddable-photo-expand");t.modal||a.call(t),n&&t.modal.addThumbListeners([n])},t.photoEmbeds=new o}(PULSE.app,PULSE.app.common),function(e,t){t.FilterOptions=function(e,t){this.filters=e,this.updateReferences(t)},t.FilterOptions.prototype.addRefsToFilters=function(){const e=this;let t="";if("string"==typeof e.references)t+=e.references;else for(let a in e.references)e.references.hasOwnProperty(a)&&(t.length>0&&(t+=","),t+=a+":"+e.references[a]);e.filters.references=t},t.FilterOptions.prototype.updateFilters=function(e){this.filters=URL_HELPER.sanitiseAPIParams({...this.filters,...e})},t.FilterOptions.prototype.updateReferences=function(e){const t=this;e&&(t.references&&"string"!=typeof t.references?t.references=Object.assign({},t.references,e):t.references=e,t.addRefsToFilters())},t.FilterOptions.prototype.get=function(){return this.filters}}(PULSE.core,PULSE.app.common),function(e,t,a,n){const o="filters__search--hide-icon",i="filters--is-active",s="filters__container--is-docked",l="is-loading",r="is-mobile-open",c={FOOTBALL_TEAM:"teams",statuses:"statuses"},d=function(){const e=this;e.resetButton&&A11Y_HELPER.addListener(e.resetButton,t=>{t.keyCode!==CONSTANTS.KEY_CODES.ENTER&&"click"!==t.type||(t.preventDefault(),e.resetFilters())}),e.labelButton&&e.labelButton.addEventListener("click",()=>{window.innerWidth<=CONSTANTS.BREAKPOINTS.PHABLET&&e.toggleMobile(!0)}),e.mobileCloseButton&&e.mobileCloseButton.addEventListener("click",()=>e.toggleMobile(!1)),e.applyButton&&e.applyButton.addEventListener("click",t=>{t.preventDefault(),L.call(e)}),e.mobileOverlayElement&&e.mobileOverlayElement.addEventListener("click",()=>{Object.keys(e.dropdowns).forEach(t=>{e.dropdowns[t].closeDropdown()})})},p=function(e){const t=this;return t.footballFilters?Object.keys(t.footballFilters).reduce((e,a)=>{const n=t.footballFilters[a];return e.replace(`{{${a}}}`,n)},e):e},u=function(){const a=this;a.config.dropdowns.forEach(o=>{const i={widgetContainer:a.element,container:a.dropdownsContainer,mobileContainer:a.mobileContainer,dropdown:o,onSelectCallback:S.bind(a),onDropdownInit:h.bind(a),hideFilters:a.hide.bind(a),barcaTv:a.config.barcaTv},s=o.filterClass?e[o.filterClass]:e.Filter;if(a.dropdowns[o.name]=new s(i),o.dataUrl){const e={url:p.call(a,o.dataUrl),target:a,headers:[PULSE.app.accountHeader],callback:e=>{let t=e;"function"==typeof a.dropdowns[o.name].updateOptionsData&&(t=a.dropdowns[o.name].updateOptionsData(e,a.config.configData||{})),"competition"===o.name&&PULSE.store.dispatch(n.CompSeasons.successful(e.content)),E.call(a,t)},forceCallback:!0,data:o.name};t.data.manager.add(e)}}),t.style.addClass(a.element,a.config.activeCls)},m=function(){const e=this;e.references.split(",").forEach(t=>{const a=t.split(":");a[0]&&void 0!==c[a[0]]&&(e.defaultFilters[c[a[0]]]=a[1])}),Object.keys(e.footballFilters).forEach(t=>{const a=e.footballFilters[t];void 0!==c[t]&&(e.defaultFilters[c[t]]=a)}),e.filters=_.clone(e.defaultFilters)},E=function(e){const t=this;if(!e.content||0===e.content.length||!e.fullXhttpResponse)return;const a={},n=t.dropdowns[e.fullXhttpResponse.data],o=n.config.dropdown,i=n.config.dropdown.ignore;let s=CLONE_HELPER.cloneArray(e.content),l=!0;if(i&&i.length>0&&(s=s.filter(e=>-1===i.indexOf(e.id))),o.urlParams&&t.urlParams.get(o.urlParams.param)){const e=Number(t.urlParams.get(o.urlParams.param));e!==Number(CONSTANTS.FILTERS.DEFAULT_OPTION_ID)?a.defaultOptionId=e:l=!1}n.setData(s),n.updateOptions(a),y.call(t,e.fullXhttpResponse.data,e,null,l)},h=function(){const e=this;g.call(e),"function"==typeof e.config.onDropdownInit&&e.config.onDropdownInit()},f=function(e,t){const a=this,n=a.dropdowns[e.dropdownName].config.dropdown;n.reset&&a.dropdowns[n.reset].resetToDefault(!0),y.call(a,e.dropdownName,!1,t)},g=function(){const e=this;e.filters=_.clone(e.defaultFilters);for(let t in e.dropdowns)if(e.dropdowns.hasOwnProperty(t)){const a=e.dropdowns[t];e.filters={...e.filters,...a.getAPIParams(e.filters,!0)}}},S=function(e){const t=this;f.call(t,e,()=>{g.call(t),e.mobile||b.call(t,e),"function"==typeof t.config.onFilterSelect&&t.config.onFilterSelect(e)})},v=function(e,a){const n={};let o=Object.keys(a).reduce((e,t)=>{const o=a[t],i=`{{${t}}}`;return e.includes(i)?e.replace(i,o):(n[t]=o,e)},e),i=t.url.buildQueryString(URL_HELPER.sanitiseAPIParams(n));return i=i?`?${i}`:"",`${o}${i}`},b=function(e){const a=this,n={...a.config.apiParams,...a.filters};if(a.config.preventFetch&&"function"==typeof a.config.onFilterUpdate)return void a.config.onFilterUpdate(n);a.config.apiParams&&a.config.apiParams.statuses&&(n.statuses=a.config.apiParams.statuses);const o={url:v(a.config.type,n),target:a,headers:[PULSE.app.accountHeader],callback:T,forceCallback:!0,data:!!e&&e.dropdownName};a.requests[o.url]?a.requests[o.url].request():a.requests[o.url]=t.data.manager.add(o),a.startLoading()},L=function(){const e=this;b.call(e,{}),e.toggleMobile(!1),e.config.parentWidget.scrollIntoView()},y=function(e,t,a,n=!1){const o=this,i=o.dropdowns[e],s=o.dropdowns[i.config.dropdown.effects],l=s?s.config.dropdown:{},r={forceDataReload:n,lastDropdownInit:!0};i&&i.config.dropdown.effects||"function"!=typeof a?(n&&l.urlParams&&o.urlParams.get(l.urlParams.param)&&(r.defaultOptionId=o.urlParams.get(l.urlParams.param),r.defaultOptionIndex=!1),s&&s.shouldUpdateFromDependancy(t,i,a,o.footballFilters,r)):a()},C=function(e){const t=this;Object.keys(t.dropdowns).forEach(a=>{const n=t.dropdowns[a];"function"==typeof n.shouldUpdateFromData&&n.shouldUpdateFromData(e)})},T=function(e){const t=this;C.call(t,e),t.stopLoading(),"function"==typeof t.config.onFilterUpdate&&t.config.onFilterUpdate(e)};e.FilterController=function(t,a){const n=this;n.element=t,n.config=a,n.dropdowns={},n.defaultFilters={},n.filters={},n.requests={},n.requestDataHistory={},n.urlParams=new URLSearchParams(window.location.search),n.applyButton=n.element.querySelector(".js-filters-apply-button"),n.dropdownsContainer=n.element.querySelector(".js-filters-dropdowns"),n.filterContainer=n.element.querySelector(".js-filter-container"),n.footballFilters={COMPETITION_ID:n.element.getAttribute("data-football-filters-competitions")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,detail:n.element.getAttribute("data-football-filters-detail")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,FOOTBALL_TEAM:n.element.getAttribute("data-football-filters-teams")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,statuses:n.element.getAttribute("data-football-filters-statuses")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,SPORT_CODE:n.element.getAttribute("data-filter-set")||CONSTANTS.FILTERS.DEFAULT_OPTION_ID},n.mobileContainer=n.element.querySelector(".js-filters-mobile"),n.mobileSearchElement=n.element.querySelector(".js-mobile-filter-search-bar"),n.mobileSearchInputElement=n.element.querySelector(".js-filter-search-bar-input-mobile"),n.references=n.element.getAttribute("data-references"),n.resetButton=n.element.querySelector(".js-filters-reset-button"),n.labelButton=n.element.querySelector(".js-filters-label"),n.mobileCloseButton=n.element.querySelector(".js-filters-mobile-close"),n.searchElement=n.element.querySelector(".js-filter-search-bar"),n.searchInputElement=n.element.querySelector(".js-filter-search-bar-input"),n.mobileOverlayElement=n.element.querySelector(".js-filter-mobile-overlay"),n.search=new e.SearchInput(n.searchElement,n.searchInputElement,o),n.mobileSearch=new e.SearchInput(n.mobileSearchElement,n.mobileSearchInputElement,o),u.call(n),m.call(n),d.call(n)},e.FilterController.prototype.hide=function(){t.style.removeClass(this.element,i)},e.FilterController.prototype.show=function(){t.style.addClass(this.element,i)},e.FilterController.prototype.unDock=function(){t.style.removeClass(this.filterContainer,s),this.show()},e.FilterController.prototype.dock=function(){t.style.addClass(this.filterContainer,s)},e.FilterController.prototype.resetFilters=function(){const e=this;e.filters=_.clone(e.defaultFilters),e.config.dropdowns.forEach((t,a)=>{e.dropdowns[t.name].resetToDefault(!0,!0),g.call(e),y.call(e,t.name,!1,()=>{if(g.call(e),a===e.config.dropdowns.length-1)if(e.config.resetByPrimaryFilter){e.dropdowns[e.config.dropdowns[0].name].selectOption("-1",!1)}else b.call(e)})})},e.FilterController.prototype.startLoading=function(){const e=this;e.loading=!0;for(let a in e.dropdowns)e.dropdowns.hasOwnProperty(a)&&t.style.addClass(e.dropdowns[a].element,l)},e.FilterController.prototype.stopLoading=function(){const e=this;e.loading=!1;for(let a in e.dropdowns)e.dropdowns.hasOwnProperty(a)&&t.style.removeClass(e.dropdowns[a].element,l)},e.FilterController.prototype.toggleMobile=function(e){const a=this;e?(t.style.addClass(a.element,r),a.mobileContainer.removeAttribute("aria-hidden"),t.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.OVERFLOW_HIDDEN)):(t.style.removeClass(a.element,r),a.mobileContainer.setAttribute("aria-hidden","true"),t.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.OVERFLOW_HIDDEN))}}(PULSE.app.common,PULSE.core,PULSE.store,PULSE.app.actions),function(e,t){const a=function(e){const t=this;A11Y_HELPER.addListener(e,a=>{PULSE.store.dispatch(t.config.actions.updateForm({[e.name]:a.target.checked}))})},n=function(){const e=this,t=e.config.validations;Object.keys(t).forEach((a,n)=>{const o=e.elem.querySelector(`[name="${a}"]`);o&&"function"==typeof t[a]&&(e.validations[n]=t[a].call(e.config.target||this,{target:o}))}),c.call(e)},o=function(e){const t=this;e.addEventListener("submit",e=>{if(e.preventDefault(),n.call(t),!t.config.submitUrl||!t.elem.checkValidity()||!t.isValid)return;const a=t.config.submitUrl,o=t.config.dataPruner(getProp(t.name,PULSE.store.getState()).data);PULSE.store.dispatch(t.config.actions.init(a,"PUT",o,t.config.onNewNetworkData))})},i=function(e){const a=watch(PULSE.store.getState,this.config.objectPath.concat(["fetching"])),n=watch(PULSE.store.getState,this.config.objectPath.concat(["submitting"])),o=a=>{a?t.style.removeClass(e,CONSTANTS.STYLE_CLS_NAMES.HIDE):t.style.addClass(e,CONSTANTS.STYLE_CLS_NAMES.HIDE)};PULSE.store.subscribe(a(o)),PULSE.store.subscribe(n(o))},s=function(e){const t=this;A11Y_HELPER.addListener(e,a=>{PULSE.store.dispatch(t.config.actions.updateForm({[e.name]:a.target.value}))})},l=function(e){const t=this;e.addEventListener("change",a=>{PULSE.store.dispatch(t.config.actions.updateForm({[e.name]:a.target.value}))})},r=function(){const e=this,t=e.config.validations;for(let a in t)if(t.hasOwnProperty(a)&&"function"==typeof t[a]){const n=e.elem.querySelector(`[name="${a}"]`);if(n){const o=e.validations.push(!0)-1;n.addEventListener("blur",n=>{e.validations[o]=t[a].call(e.config.target||this,n),c.call(e)})}}},c=function(){const e=this;e.validations.includes(!1)?(e.isValid=!1,d.call(e)&&t.style.addClass(e.config.submitButton.elem,e.config.submitButton.disabledCls)):(e.isValid=!0,d.call(e)&&t.style.removeClass(e.config.submitButton.elem,e.config.submitButton.disabledCls))},d=function(){return this.config.submitButton&&this.config.submitButton.elem&&this.config.submitButton.disabledCls},p=function(e){const t=this,a=a=>{PULSE.store.dispatch(t.config.actions.updateForm({[e.name]:a.target.value}))};e.addEventListener("input",a),e.addEventListener("paste",a)};e.FormController=function(e,t={}){const n=this;if(n.elem=e,n.name=t.objectPath.join("."),n.validations=[],n.config={actions:PULSE.app.actions.form(n.name),onNewNetworkData:!1,...t},n.isValid=!0,!n.config.disableListeners){const t=e.querySelectorAll("[type=text]"),i=e.querySelectorAll("[type=email]"),c=e.querySelectorAll("[type=radio]"),d=e.querySelectorAll("[type=checkbox]"),u=e.querySelectorAll("[type=number]"),m=e.querySelectorAll("select");[...t,...i,...u].map(p.bind(n)),[...c].map(s.bind(n)),[...d].map(a.bind(n)),[...m].map(l.bind(n)),o.call(n,n.elem),n.config.validations&&r.call(n)}n.config.loaderContainer&&i.call(n,n.config.loaderContainer),u.call(n)};const u=function(){const e=this.config.objectPath.concat(["fetchingFailed"]),t=this.config.objectPath.concat(["submissionFailed"]);let a=watch(PULSE.store.getState,e);PULSE.store.subscribe(a(e=>{e&&(a(),USER_HELPER.logOut(!1),USER_HELPER.logIn())}));let n=watch(PULSE.store.getState,t);PULSE.store.subscribe(n(e=>{e&&alert(PULSE.I18N.lookup("label.account.failed"))}))};e.FormController.prototype.fetchForm=function(e){PULSE.store.dispatch(this.config.actions.init(e,"GET",{},this.config.onNewNetworkData))}}(PULSE.app.common,PULSE.core),function(e){const t="js-gallery-expand";e.GalleryAlbum=function(e){const t=this;t.container=e,a.call(t),n.call(t)};const a=function(){const a=this;a.modal=new e.Modal({wrap:document.querySelector(".js-gallery-modal"),items:document.querySelectorAll(`.${t}`),openCallback:i.bind(a),closeCallback:o.bind(a)})},n=function(){const a=this;a.slider=new e.PhotoSlider({container:document.querySelector(".js-gallery-slider"),thumbnails:document.querySelectorAll(`.${t}`),partner:a.container.dataset.partner,playlistId:Number(a.container.dataset.playlist),onSlideChangeCallback:s.bind(this)})},o=function(){this.slider.removeKeyUpListener(),SCREEN_HELPER.removeDebouncedEvent(this.scrollEvent)},i=function(){const e=this;e.slider.addKeyUpListener(),e.slider.updateViewport(e.modal.thumbElement),e.scrollEvent=SCREEN_HELPER.onDebouncedResize(e.slider.windowResize)},s=function(e){let t;try{t={tags:this.container.getAttribute("data-tags").split(","),pageName:`${location.pathname}/${Number(e.dataset.index)+1}`}}catch(e){console.warn(e),t={}}"undefined"!=typeof ANALYTICS_HELPER&&"undefined"!=typeof _satellite&&_satellite.track&&(fcbDL=ANALYTICS_HELPER.generateGalleryDataLayer(t,!0),_satellite.track("scVPage"))}}(PULSE.app.common),function(e){e.widget={},e.widget.initVenderScriptIncludes=function(e){document.querySelectorAll(`#${e}`).forEach(e=>{e.src=e.dataset.src})}}(PULSE.app.common),function(e,t,a){const n=function(e){const t=this,a={};return a.mobileUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Mobile`),a.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Mobile (Retina)`),a.phabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Phablet`),a.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Phablet (Retina)`),a.tabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Tablet`),a.tabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Tablet (Retina)`),a.desktopSmallUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Desktop Small`),a.desktopSmallUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Desktop Small (Retina)`),a.desktopUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Desktop`),a.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Desktop (Retina)`),a.wideUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Wide`),a.wideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,`${t.variantName} Article Hero - Wide (Retina)`),a},o=function(t){const n=this,o={limit:1};t||(n.references&&(o.references=n.references),n.tags&&(o.tagNames=n.tags));const s={callback:i,target:n,url:e.apiPath.cms.photo+"?"+a.url.buildQueryString(o)};t&&(s.url+=`&${n.fallback}`),a.data.manager.add(s)},i=function(e){const a=this;e.content&&0!==e.content.length?(a.container.innerHTML=TEMPLATE_HELPER.render({photo:e.content[0],variants:a.createVariants(e.content[0])},"hero-photo"),new t.LazyPictureElement(a.container.querySelector(`.${CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT}`))):a.fallbackCall||(a.fallbackCall=!0,o.call(a,!0))};t.HeroPhoto=function(e,t="Featured",a=null){const i=this;i.container=e,i.variantName=t,i.createVariants=a||n.bind(i),i.references=i.container.getAttribute("data-references"),i.fallback=i.container.getAttribute("data-fallback"),i.tags=i.container.getAttribute("data-tags"),i.fallbackCall=!1,o.call(i,!1)}}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,a){const n="match-details--active",o={U:"match-hero--pre-match",L:"match-hero--live",C:"match-hero--complete"},i="match-hero--phase-half-time",s=function(e){const t={};return t.mobileUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Mobile"),t.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Mobile (Retina)"),t.phabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Phablet"),t.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Phablet (Retina)"),t.tabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Tablet"),t.tabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Tablet (Retina)"),t.desktopSmallUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop Small"),t.desktopSmallUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop Small (Retina)"),t.desktopUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Desktop"),t.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Desktop (Retina)"),t.wideUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Wide"),t.wideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Wide (Retina)"),t.ultraWideUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Wide"),t.ultraWideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Standard Article Hero - Wide (Retina)"),t},l=function(e,t,a,n){const o=[];return e.forEach(e=>{let i=e.description||"";if(i===CONSTANTS.MATCH_EVENTS.PENALTY&&(i=CONSTANTS.MATCH_EVENTS.GOAL),e[n]&&e[n]===t[n]&&i===a){const t=FIXTURE_HELPER.formatMatchEventTime(e);o.push(t)}}),{type:a,personId:t[n],teamId:t.teamId,events:o}},r=function(){document.referrer&&URL_HELPER.isBarcelonaDomain(document.referrer)&&this.backButton.setAttribute("href",document.referrer)};e.MatchHero=function(e,n,o=!1){const i=this;i.container=e,i.heroElem=document.querySelector('[data-widget="match-hero"]'),i.heroPhotoElem=i.container.querySelector('[data-widget="hero-photo"]'),i.matchHeroContent=i.container.querySelector(".js-match-hero-content"),i.matchDetailsElems=i.container.querySelectorAll(".js-match-details"),i.matchTimeElem=i.container.querySelector(".js-match-time"),i.matchScoreElem=i.container.querySelector(".js-match-score"),i.matchHTContainer=i.container.querySelector(".js-match-ht-container"),i.matchHTScoreElem=i.container.querySelector(".js-match-ht-score"),i.matchAggContainerElem=i.container.querySelector(".js-match-agg-container"),i.matchAggScoreElem=i.container.querySelector(".js-match-agg-score"),i.matchEventsHomeElem=i.container.querySelector(".js-match-events-home"),i.matchEventsAwayElem=i.container.querySelector(".js-match-events-away"),i.backButton=i.container.querySelector(".js-back-btn"),i.matchDetailContainerElem=document.querySelector(".js-match-details-container"),i.matchDetailsCloseElem=document.querySelector(".js-match-details-close"),i.mainColElem=document.querySelector(".js-mc-main-col"),i.matchHeroFooter=i.container.querySelector(".js-match-hero-footer"),i.fixtureInfo=i.container.querySelector(".js-fixture-info"),i.liveBlogElem=document.querySelector('[data-widget="live-blog"]'),i.isLaLiga=Number(n)===CONSTANTS.FOOTBALL_COMPETITIONS.ES_PL,i.matchStatus=i.container.dataset.matchStatus,i.matchDetailContainerElem&&i.setMatchDetailListeners(),i.heroPhotoElem&&new t.HeroPhoto(i.heroPhotoElem,"",s),i.backButton&&r.call(i),o&&(i.setSlimHeroPosition(),SCREEN_HELPER.onDebouncedResize(i.setSlimHeroPosition.bind(i)),c.call(i)),i.isLaLiga||o||a.style.addClass(i.matchHeroFooter,"match-hero__footer--not-liga")},e.MatchHero.prototype.matchStatusUpdate=function(e){const t=this;a.style.removeClass(t.container,o[t.matchStatus]),a.style.addClass(t.container,o[e]),t.matchStatus=e},e.MatchHero.prototype.setSlimHeroPosition=function(){const e=this,t=e.mainColElem.offsetWidth-e.mainColElem.clientWidth,a=window.innerWidth-e.mainColElem+t;e.container.style.right=`${a}px`},e.MatchHero.prototype.setMatchDetailListeners=function(){const e=this,t=()=>a.style.toggleClass(e.matchDetailContainerElem,n);for(let a=0;a<e.matchDetailsElems.length;a++){const n=e.matchDetailsElems[a];A11Y_HELPER.addListener(n,t)}A11Y_HELPER.addListener(e.matchDetailsCloseElem,()=>a.style.removeClass(e.matchDetailContainerElem,n))},e.MatchHero.prototype.updateClock=function(e){this.matchTimeElem.innerText=FIXTURE_HELPER.getFixtureLength(e)},e.MatchHero.prototype.updateEvents=function(e){if(!e||0===e.length)return;const t=PULSE.store.getState().activeFixture.data,a=function(e){const t=[],a=[];return e.forEach(n=>{if(!n.personId||!n.description)return;let o=n.description;n.description===CONSTANTS.MATCH_EVENTS.PENALTY&&(o=CONSTANTS.MATCH_EVENTS.GOAL),o===CONSTANTS.MATCH_EVENTS.RED||o===CONSTANTS.MATCH_EVENTS.YELLOWRED?t.push({type:o,personId:n.personId,teamId:n.teamId,events:[FIXTURE_HELPER.getAdditionalEventTime(n)]}):o!==CONSTANTS.MATCH_EVENTS.GOAL&&o!==CONSTANTS.MATCH_EVENTS.OWNGOAL||a.includes(n.personId+o)||(t.push(l(e,n,o,"personId")),a.push(n.personId+o))}),deepFreeze(t)}(e);this.matchEventsHomeElem.innerHTML=TEMPLATE_HELPER.render({fixture:t,map:a,teamId:t.teams[0].team.id},"match-events"),this.matchEventsAwayElem.innerHTML=TEMPLATE_HELPER.render({fixture:t,map:a,teamId:t.teams[1].team.id},"match-events")},e.MatchHero.prototype.updateHalfTimeScore=function(e){const t=this,n=PULSE.store.getState().activeFixture.data;!n.halfTimeScore||e!==CONSTANTS.MATCH_PHASES.SECOND_HALF&&e!==CONSTANTS.MATCH_PHASES.FINISHED||(a.style.removeClass(t.matchHTContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.matchHTScoreElem.innerText=`${n.halfTimeScore.homeScore} - ${n.halfTimeScore.awayScore}`),e===CONSTANTS.MATCH_PHASES.HALF_TIME?a.style.addClass(t.container,i):a.style.removeClass(t.container,i)},e.MatchHero.prototype.updateAggregateDetails=function(e){const t=this,n=PULSE.store.getState().activeFixture.data,o=e.legs[0];n.fixtureType===CONSTANTS.FIXTURE_ROUNDS.SECOND_LEG&&o.status===CONSTANTS.MATCH_STATES.COMPLETED&&(t.matchAggScoreElem.innerText=`${n.teams[0].score+o.teams[1].score} - ${n.teams[1].score+o.teams[0].score}`,a.style.removeClass(t.matchAggContainerElem,CONSTANTS.STYLE_CLS_NAMES.U_HIDE))},e.MatchHero.prototype.updateScore=function(e){this.matchScoreElem.innerText=`${e[0].score||0} - ${e[1].score||0}`},e.MatchHero.prototype.setStickyTopValue=function(){const e=this;if(window.innerWidth>CONSTANTS.BREAKPOINTS.DESKTOP_MINI){const t=e.container.offsetHeight-e.matchHeroContent.offsetHeight;e.container.style.top=`-${t}px`}else e.container.style.top=0};const c=function(){const e=this,t=CONSTANTS.STYLE_CLS_NAMES.IS_VISIBLE;new IntersectionObserver(n=>{for(let o of n)o.isIntersecting?a.style.removeClass(e.fixtureInfo,t):a.style.addClass(e.fixtureInfo,t)}).observe(e.heroElem)}}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t){e.BreakpointLayoutSwitcher=function(e,a,n,o){const i=this;i.container=e,i.sourceContainer=i.container.querySelector(a),i.destinationContainer=i.container.querySelector(n);try{i.maxWidth=parseInt(o)}catch(e){console.warn("breakpoint must be an integer")}t.event.windowResize.add({method:i.onResize.bind(i)}),i.onResize()},e.BreakpointLayoutSwitcher.prototype.moveContents=function(e,t){const a=e.children.length;for(let n=0;n<a;n++)t.appendChild(e.children[0])},e.BreakpointLayoutSwitcher.prototype.onResize=function(){const e=this;window.outerWidth>e.maxWidth&&e.moveContents(e.destinationContainer,e.sourceContainer),window.outerWidth<=e.maxWidth&&e.moveContents(e.sourceContainer,e.destinationContainer)}}(PULSE.app.common,PULSE.core),function(e){e.GlobalIntersectionObserver=new IntersectionObserver(function(t){const a=new Event(CONSTANTS.EVENT.ACTIVATE);t.forEach(function(t){t.isIntersecting&&(t.target.dispatchEvent(a),e.GlobalIntersectionObserver.unobserve(t.target))})},PRESET_CONFIG.OBSERVER_CONFIG)}(PULSE.app.common),function(e,t){const a="data-image-src",n="loaded";e.LazyPictureElement=function(t){const a=this;if(t){if(a.isOdir="true"===t.dataset.odir,a.pictureElement=t,!a.isOdir){if(a.mainImage=a.pictureElement.querySelector("img"),!a.mainImage)return;a.sourceElements=[].slice.call(a.pictureElement.querySelectorAll("source"))}e.GlobalIntersectionObserver.observe(a.pictureElement),a.pictureElement.addEventListener(CONSTANTS.EVENT.ACTIVATE,()=>{a.isOdir?a.loadOdirPicture():a.loadVariantPicture()})}},e.LazyPictureElement.prototype.loadVariantPicture=function(){const e=this;e.sourceElements.forEach(function(e){const t=e.getAttribute(a)||"";e.setAttribute("srcset",t.trim())});const o=e.mainImage.getAttribute(a)||"";e.mainImage.setAttribute("src",o.trim()),e.mainImage.onload=()=>{t.style.addClass(e.pictureElement,n)}},e.LazyPictureElement.prototype.loadOdirPicture=function(){const e=this;if(e.pictureElement.dataset.imgLoaded)return;const a=e.pictureElement.offsetWidth,o=e.pictureElement.offsetHeight;if(!a||!o)return;const i=a/o,s=300*Math.ceil(a/300),l=Math.round(s/i),r=2*s,c=2*l,d=e.pictureElement.dataset.imgSrc,p=IMAGE_HELPER.getOdirImageUrl(d,s,l),u={imgUrlRetina:IMAGE_HELPER.getOdirImageUrl(d,r,c),imgUrlStandard:p,fadeInOnLoad:!0,imgAlt:e.pictureElement.dataset.imgAlt},m=TEMPLATE_HELPER.render(u,"lazy-picture-element");e.pictureElement.innerHTML=m,e.pictureElement.setAttribute("data-img-loaded","true");const E=e.pictureElement.querySelector(".js-faded-image");E&&E.addEventListener("load",()=>{t.style.addClass(e.pictureElement,n)})},[].forEach.call(document.querySelectorAll(`.${CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT}`),function(t){new e.LazyPictureElement(t,!1)})}(PULSE.app.common,PULSE.core),function(e,t){const a=function(){const e=this;i.call(e),"function"==typeof e.config.callback&&e.config.callback(),e.config.infiniteScroll&&!e.scrollListenersSet&&n.call(e)},n=function(){const e=this;new IntersectionObserver(t=>{for(let n of t)n.isIntersecting&&!e.loading&&a.call(e)}).observe(e.container),e.scrollListenersSet=!0},o=function(){t.style.removeClass(this.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.addClass(this.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE)},i=function(){const e=this;t.style.addClass(e.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.removeClass(e.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),e.loading=!0},s=function(){const e=this;t.style.addClass(e.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.removeClass(e.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),e.loading=!1};e.ShowMore=function(e,t){const n=this;n.container=e,n.config=Object.freeze({...PRESET_CONFIG.SHOW_MORE,...t}),n.button=n.container.querySelector(`.${n.config.buttonClass}`),n.loader=n.container.querySelector(`.${n.config.loaderClass}`),n.scrollListenersSet=!1,n.loading=!1,A11Y_HELPER.addListener(n.button,a.bind(n),!1)},e.ShowMore.prototype.contentLoaded=function(){s.call(this)},e.ShowMore.prototype.setPagination=function(){o.call(this)},e.ShowMore.prototype.disable=function(){t.style.addClass(this.container,CONSTANTS.STYLE_CLS_NAMES.U_HIDE)},e.ShowMore.prototype.hide=function(){t.style.addClass(this.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.addClass(this.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE)},e.ShowMore.prototype.show=function(){t.style.removeClass(this.button,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),t.style.removeClass(this.container,CONSTANTS.STYLE_CLS_NAMES.U_HIDE)}}(PULSE.app.common,PULSE.core),function(app,common,core){const FEATURED_CLASS="article-modal--featured",MODAL_EXPANDED_CLASS="article-modal--expanded",MODAL_CONTENT_ACTIVE_CLASS=`article-modal__content${CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE}`,JS_MODAL_CLASS="js-article-modal",JS_MODAL_EXPAND_CLASS="js-article-expand",JS_MODAL_VIEWPORT_CLASS="js-article-modal-viewport",JS_MODAL_CONTENT_CLASS="js-article-modal-content",JS_MODAL_LOADER_CLASS="js-article-modal-loader",JS_ARTICLE_BODY_CLASS="js-article-body",JS_SIMPLE_EMBED_CLASS="js-simple-embed",PLAYBUZZ="playbuzz",HIDDEN_SCROLLBAR_CLASS="article-modal--hidden-scrollbar",SCROLL_OFFSET=0,SCROLL_RATE=100,ArticleModal=function(){const e=this;if(e.dataRequestHistory=[],e.dataRequests={},e.dataStore={},e.prevUrl=window.location.href,e.onPopState=_onPopState.bind(e),e.wrap=document.querySelector(`.${JS_MODAL_CLASS}`),!e.wrap)return;(document.querySelector(".match-centre")||"")&&core.style.addClass(e.wrap,"article-modal--match-centre"),e.articleThumbs=document.querySelectorAll(`.${JS_MODAL_EXPAND_CLASS}`),e.loader=e.wrap.querySelector(`.${JS_MODAL_LOADER_CLASS}`),e.viewport=e.wrap.querySelector(`.${JS_MODAL_VIEWPORT_CLASS}`),e.contentElem=e.wrap.querySelector(`.${JS_MODAL_CONTENT_CLASS}`),e.modal=new common.Modal({closeCallback:_onModalClose.bind(e),items:e.articleThumbs,openCallback:_onModalOpen.bind(e),wrap:e.wrap}),window.addEventListener("popstate",e.onPopState)},_getArticle=function(e){const t=this,a=document.querySelector(`.${PLAYBUZZ}`),n={callback:a=>{t.dataStore[e]=a,setTimeout(()=>_updateViewport.call(t,a),CONSTANTS.TIME.MODAL_ANIMATION_DURATION)},forceCallback:!0,target:t,url:app.apiPath.cms.text+e+"?showAllTitleTranslations=true"};-1===t.dataRequestHistory.indexOf(e)?(t.dataRequestHistory.push(e),t.dataRequests[e]=core.data.manager.add(n)):t.dataRequests[e]&&(_updateViewport.call(t,t.dataStore[e]),a&&Playbuzz&&Playbuzz.render())},_getArticleModel=function(e){const t=`<script src="https://${PULSE.app.environment.domain}/resources/${window.RESOURCE_VERSION}/app/app-external.js">.*?<\/script>`,a=new RegExp(t,"gmi"),n=(e.body||"").replace(a,"").replace(/<link[^>]*>/gim,""),o=TEMPLATE_HELPER.contentHasTag(e.tags,CONSTANTS.TAGS.TYPE.FEATURED.tag),i=TEMPLATE_HELPER.contentHasTag(e.tags,CONSTANTS.TAGS.TYPE.QUIZ.tag),s={author:e.author,body:n,duration:e.duration,heroPhoto:_getHeroPhotoVariants(e.leadMedia),id:e.id,isFeatured:o||i,isQuiz:i,language:app.language||app.defaultLanguage,lastModified:e.lastModified,leadMedia:e.leadMedia||null,metadata:e.metadata||{},publishFrom:e.publishFrom,references:e.references||[],summary:e.summary,tags:e.tags||[],title:e.title};return e.related&&e.related.length>0?s.relatedContent=e.related:s.relatedContent=null,s},_getHeroPhotoVariants=function(e){if(!e||void 0===e)return null;const t=IMAGE_HELPER.getVariantsForContentType(e);return{featured:_getPhotoVariants(t,"Featured"),standard:_getPhotoVariants(t,"Standard")}},_getPhotoVariants=function(e={},t){if(0===Object.keys(e).length)return e;const a={};return a.mobileUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Mobile"),a.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Mobile (Retina)"),a.phabletUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Phablet"),a.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Phablet (Retina)"),a.tabletUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Tablet"),a.tabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Tablet (Retina)"),a.desktopSmallUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Desktop Small"),a.desktopSmallUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Desktop Small (Retina)"),a.desktopUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Desktop"),a.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Desktop (Retina)"),a.wideUrl=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Wide"),a.wideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e,t+" Article Hero - Wide (Retina)"),a},_initArticleWidgets=function(){const _self=this,relatedcontentElems=_self.wrap.querySelectorAll('[data-widget="content-list"]');for(let e=0;e<relatedcontentElems.length;e++){const t=new app.ContentList(relatedcontentElems[e],{hideIfNoResults:!0});t.getContentData(!0)}const ShareText=PULSE.ui.shareText;new ShareText({content:`.${JS_ARTICLE_BODY_CLASS}`,hideUrl:!1,shareOptions:`.${CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_OPTIONS}`,shareChannels:`.${CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_CHANNELS}`});const scriptTags=_self.wrap.querySelectorAll(`.${JS_SIMPLE_EMBED_CLASS} script, .embeddable-playbuzz script`);for(let i=0;i<scriptTags.length;i++)eval(scriptTags[i].innerHTML);app.widgetInitialiser.addWidgets(_self.contentElem),app.widgetDeps(_self.contentElem)},_updateViewport=function(e){const t=this;if(!t.modal.isViewportFullsize||!e||!e.id)return void console.error("Unable to render modal from article model; model has no ID");const a=_getArticleModel(e);t.browserButtonUsed||_setUrl.call(t,!1,e.title,e.id,e.tags,e.language,e.titleTranslations),t.contentElem.innerHTML=TEMPLATE_HELPER.render(a,"_article_modal"),_twttr(document,"script","twitter-wjs"),_updateAnalytics.call(t,a),common.contentTracker(!1,CONSTANTS.CONTENT_TRACKER.ACTION.VIEW,CONSTANTS.CONTENT_TRACKER.TYPE.TEXT,e.id),core.style.addClass(t.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),core.style.addClass(t.contentElem,MODAL_CONTENT_ACTIVE_CLASS),t.article=new app.Article(t.viewport,{controls:t.modal.config.controls,isModal:!0}),[].forEach.call(t.contentElem.querySelectorAll(`.${CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT}`),function(e){new common.LazyPictureElement(e)});const n=t.contentElem.querySelector('[data-widget="forca-barca"]');new common.ForcaBarca(n),t.browserButtonUsed=!1,t.articleId=null,_initArticleWidgets.call(t)},_updateAnalytics=function(e){const t=this.contentElem.querySelectorAll('[data-analytics="true"]');let a;t.length>0&&"undefined"!=typeof ANALYTICS_HELPER&&ANALYTICS_HELPER.addEventListeners(t);try{a={author:e.author,duration:e.duration,isFeatured:e.isFeatured,language:e.language,lastModified:e.lastModified,publishFrom:e.publishFrom,references:e.references,tags:e.tags,isNews:e.isNewsContent,pageName:URL_HELPER.generateUrl("text",e.id,e.isFeatured?"featured":"",e.title,"https",e.tags)}}catch(e){console.warn(e),a={}}"undefined"!=typeof ANALYTICS_HELPER&&"undefined"!=typeof _satellite&&_satellite.track&&(fcbDL=ANALYTICS_HELPER.generateNewsDataLayer(a,!0),_satellite.track("scVPage"))},_onModalClose=function(){const e=this;core.style.removeClass(e.wrap,MODAL_EXPANDED_CLASS),core.style.removeClass(e.contentElem,MODAL_CONTENT_ACTIVE_CLASS),core.style.removeClass(document.documentElement,HIDDEN_SCROLLBAR_CLASS),e.browserButtonUsed||_setUrl.call(e,!0),e.browserButtonUsed=!1,e.article&&e.article.removeScrollObserver.call(e);DOM_HELPER.nodeListToArray(e.wrap.querySelectorAll(".youtubeThumb")).forEach(e=>{_stopYouTubeVideo(e)}),app.PlayerManager&&app.PlayerManager.stopOtherPlayers(),e.contentElem.innerHTML=""},_onModalOpen=function(){const e=this;core.style.removeClass(e.loader,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),core.style.addClass(e.wrap,MODAL_EXPANDED_CLASS),_getArticle.call(e,e.articleId||e.modal.thumbElement.dataset.articleId),DOM_HELPER.scrollBaseElemToElem(e.viewport,e.contentElem,SCROLL_OFFSET,SCROLL_RATE),e.isFeatured=void 0!==e.modal.thumbElement.dataset.isFeatured,e.isFeatured?core.style.addClass(e.wrap,FEATURED_CLASS):core.style.removeClass(e.wrap,FEATURED_CLASS),core.style.addClass(document.documentElement,HIDDEN_SCROLLBAR_CLASS)},_onPopState=function(e){const t=this;t.browserButtonUsed=!0,e.state&&(e.state.article.modal?e.state.article.modal&&(t.articleId=e.state.article.id,t.modal.openModal(!1)):t.modal.closeModal())},_setUrl=function(e,t,a,n=[],o,i){const s=this;let l;if(e)l=s.prevUrl;else{const e=i&&i.en?i.en:"";l=TEMPLATE_HELPER.contentHasTag(n,CONSTANTS.TAGS.TYPE.NEWS.tag)?URL_HELPER.generateUrl("text",a,s.isFeatured?"featured":"","ja"===o?e:t,"https",n):URL_HELPER.generateUrl("static",a,"","ja"===o?e:t,"https",n)}history.pushState({...history.state,article:{id:a,modal:!e,title:t}},t,l)},_twttr=function(e,t,a){var n,o=e.getElementsByTagName(t)[0],i={};return(n=e.createElement(t)).id=a,n.src="https://platform.twitter.com/widgets.js",o.parentNode.insertBefore(n,o),i._e=[],i.ready=function(e){i._e.push(e)},i},_stopYouTubeVideo=e=>{const t=e.querySelector("iframe"),a=e.querySelector("video");if(t){const e=t.src;t.src=e}a&&a.pause()},_depsLoaded=function(e){void 0!==common.Modal?e():document.addEventListener(CONSTANTS.EVENT.MODAL_LOADED,e)},depsLoadedPromise=new Promise(_depsLoaded);depsLoadedPromise.then(()=>{common.articleModal=new ArticleModal})}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,a){const n="content-popup--open",o="content-popup--loading";e.ContentPopup=function(e){const t=this;t.pageBody=document.querySelector(`.${CONSTANTS.JS_CLS_NAMES.BODY_CONTENT}`),t.popupElement=e,t.originalUrl=window.location.href,t.popupElement&&(t.definePopup(),c.call(t))},e.ContentPopup.prototype.definePopup=function(){const e=this;e.popupCoseBtn=e.popupElement.querySelector(".js-popup-close-btn"),e.popupContainer=e.popupElement.querySelector(".js-popup-container"),e.popupPhotoElem=e.popupElement.querySelector(".js-popup-photo"),e.popupTitle=e.popupElement.querySelector(".js-popup-title"),e.popupContent=e.popupElement.querySelector(".js-popup-content"),e.popupArticle=e.popupElement.querySelector(".js-article-popup"),e.bodyContent=e.popupElement.querySelector(".js-body-content")},e.ContentPopup.prototype.addMore=function(e,t){const a=this;a.noUrl=t||!1;for(let t=0;t<e.length;t++){const n=e[t];A11Y_HELPER.addListener(n,e=>{e.preventDefault(),e.stopPropagation(),a.open();const t=n.getAttribute("data-popup-load"),o=n.getAttribute("data-popup-content-type");t&&a.loadContent(t,o||"text")})}},e.ContentPopup.prototype.isOpen=function(){const e=this;return e.popupElement||(e.popupElement=document.querySelector(".js-page-pop-up"),e.definePopup()),a.style.hasClass(e.popupElement,n)},e.ContentPopup.prototype.open=function(){const e=this;e.isOpen()||(e.scrollPos=document.documentElement.scrollTop,e.keyEventCallback=i.bind(this),document.addEventListener("keyup",e.keyEventCallback),a.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.NO_OVERFLOW_CLASS),a.style.addClass(document.body,CONSTANTS.STYLE_CLS_NAMES.CONTENT_OVERLAY_CLASS),a.style.addClass(e.popupElement,n))},e.ContentPopup.prototype.close=function(){const e=this;e.isOpen()&&(a.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.NO_OVERFLOW_CLASS),a.style.removeClass(document.body,CONSTANTS.STYLE_CLS_NAMES.CONTENT_OVERLAY_CLASS),a.style.removeClass(e.popupElement,n),document.documentElement.scrollTop=e.scrollPos,document.removeEventListener("keyup",e.keyEventCallback),e.keyEventCallback=null,e.popupTitle&&e.popupContent&&(e.popupPhotoElem.innerHTML="",e.popupTitle.innerText="",e.popupContent.innerHTML=""))},e.ContentPopup.prototype.loadContent=function(e,n="text"){const i=this;a.style.addClass(i.popupElement,o);let l=t.apiPath.cms[n]+e;axios.get(l).then(e=>{s.call(i,r[n](e))})};const i=function(e){const t=this;e.keyCode===CONSTANTS.KEY_CODES.ESCAPE&&(t.close(),t.noUrl||d.call(t,{},!0))},s=function(t){const n=this;n.popupTitle.innerText=t.title,n.popupContent.innerHTML=t.body;const i=n.popupContent.querySelector("link"),s=n.popupContent.querySelectorAll("script");if(i&&n.popupContent.removeChild(i),s.length>0&&n.popupContent.removeChild(s[s.length-1]),a.style.removeClass(n.popupElement,o),t.leadMedia&&n.popupPhotoElem){const e=function(e){const t=IMAGE_HELPER.getVariantsForContentType(e),a={};return a.mobileUrl=IMAGE_HELPER.getPhotoByVariant(t,"Gallery Thumbnail - Desktop"),a.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(t,"Gallery Thumbnail - Desktop (Retina)"),a.phabletUrl=IMAGE_HELPER.getPhotoByVariant(t,"Featured Article Hero - Phablet"),a.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(t,"Featured Article Hero - Phablet (Retina)"),a.desktopUrl=IMAGE_HELPER.getPhotoByVariant(t,"Featured Article Hero - Tablet"),a.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(t,"Featured Article Hero - Tablet (Retina)"),a}(t.leadMedia),a=TEMPLATE_HELPER.render(e,"content-popup-image");n.popupPhotoElem.innerHTML=a}t.afterDOMUpdate(n.popupContent),[].forEach.call(n.popupContent.querySelectorAll(`.${CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT}`),function(t){new e.LazyPictureElement(t)}),n.noUrl||d.call(n,t)},l=function(e){t.widgetInitialiser.addWidgets(e),t.widgetDeps(e),new t.Article(e,{controls:{},isModal:!0})},r={text:e=>({title:e.data.title,body:e.data.body,leadMedia:e.data.leadMedia,id:e.data.id,afterDOMUpdate:e=>l(e)}),bio:e=>({title:e.data.title,body:e.data.content,leadMedia:!1,id:e.data.id,afterDOMUpdate:e=>l(e)})},c=function(){const e=this;A11Y_HELPER.addListener(e.popupCoseBtn,t=>{t.preventDefault(),e.close(),e.noUrl||d.call(e,{},!0)});const t=document.querySelectorAll(".js-content-popup-trigger");if(t.length)for(let a=0;a<t.length;a++){const n=t[a];A11Y_HELPER.addListener(n,t=>{t.preventDefault(),t.stopPropagation(),e.open();const a=n.getAttribute("data-popup-load"),o=n.getAttribute("data-popup-content-type");a&&e.loadContent(a,o||"text")})}},d=function(e,t=!1){let a,n;t?(a=this.originalUrl,n=document.title):(a=`${window.location.href}/${e.id}/${URL_HELPER.urlifyTitle(e.title)}`,n=e.title),history.pushState(history.state,n,a)},p=document.querySelector('[data-widget="content-pop-up"]');p&&new e.ContentPopup(p)}(PULSE.app.common,PULSE.app,PULSE.core),function(e,t,a){const n="modal-fade",o="modal--article-open",i="mobile-message",s="modal--expanded",l="modal--animated",r="js-article-modal",c=function(){this.keyEventCallback=d.bind(this),document.addEventListener("keyup",this.keyEventCallback)},d=function(e){const t=this;e.keyCode===CONSTANTS.KEY_CODES.ESCAPE&&t.closeModal()},p=function(){const e=this;e.screenPos=window.pageYOffset,a.style.addClass(e.pageBody,CONSTANTS.STYLE_CLS_NAMES.BODY_SHRINK_CLASS),a.style.addClass(document.body,n),e.pageBody.setAttribute("aria-hidden","true"),e.config.wrap.classList.contains(r)&&a.style.addClass(document.body,o);document.querySelector(`.${i}`)&&a.style.addClass(document.body,i)},u=function(e){const t=this;e.preventDefault(),t.thumbElementOld=t.thumbElement,t.thumbElement=e.currentTarget,t.openModal()},m=function(e){const t=DOM_HELPER.htmlStringToDomElement(TEMPLATE_HELPER.render({},e.template));document.body.appendChild(t),e.wrap=t},E=function(){document.removeEventListener("keyup",this.keyEventCallback),this.keyEventCallback=null},h=function(){const e=this;e.addThumbListeners(e.config.items),e.config.controls.close&&A11Y_HELPER.addListener(e.config.controls.close,t=>{t.keyCode!==CONSTANTS.KEY_CODES.ENTER&&"click"!==t.type||e.closeModal()})},f=function(){const e=this;a.style.removeClass(e.pageBody,CONSTANTS.STYLE_CLS_NAMES.BODY_NO_SCROLL_CLASS),a.style.removeClass(e.pageBody,CONSTANTS.STYLE_CLS_NAMES.BODY_SHRINK_CLASS),a.style.removeClass(document.body,n),e.pageBody.removeAttribute("aria-hidden");document.querySelector(`.${i}`)&&a.style.addClass(document.body,i),e.config.wrap.classList.contains(r)&&a.style.removeClass(document.body,o),window.scrollTo(0,e.screenPos)};t.Modal=function(e={}){const t=this;e.template&&m.call(t,e),t.config=function(e){const t={closeCallback:e.closeCallback||"undefined",controls:e.controls||{},hideClass:e.hideClass||CONSTANTS.STYLE_CLS_NAMES.IS_HIDDEN,items:e.items||e.wrap.querySelector(".js-modal-expand"),openCallback:e.openCallback||"undefined",wrap:e.wrap||document.querySelector(".js-modal")};return t.controls.close=t.controls.close||e.wrap.querySelector(".js-modal-close"),t}(e),t.isViewportFullsize=!1,t.pageBody=document.querySelector(`.${CONSTANTS.JS_CLS_NAMES.BODY_CONTENT}`),h.call(t)},t.Modal.prototype.addThumbListeners=function(e){const t=this;if(e)for(let a=0;a<e.length;a++)e[a].dataset.isInitialised||(e[a].dataset.isInitialised=!0,A11Y_HELPER.addListener(e[a],u.bind(t)))},t.Modal.prototype.closeModal=function(){const e=this;e.isViewportFullsize=!1,f.call(e),E.call(e),a.style.removeClass(e.config.wrap,s),e.config.controls.close&&e.config.controls.close.setAttribute("aria-hidden","true"),setTimeout(()=>{e.isViewportFullsize||a.style.removeClass(e.config.wrap,l)},CONSTANTS.TIME.MODAL_ANIMATION_DURATION),"function"==typeof e.config.closeCallback&&e.config.closeCallback()},t.Modal.prototype.setNavigationOffset=function(){const e=this,t=document.querySelector(` .${CONSTANTS.JS_CLS_NAMES.NAV_FIXED_CONTAINER} `),a=document.querySelector(" .js-modal-lead-media "),n=t.offsetHeight?t.offsetHeight+"px":"0px";e.config.wrap.classList.contains(r)&&(e.config.wrap.style.marginTop=n,a&&(a.style.marginTop=n))},t.Modal.prototype.openModal=function(e=!0){const t=this;e&&t.thumbElement===t.thumbElementOld&&a.style.hasClass(t.config.wrap,s)?t.closeModal():(p.call(t),c.call(t),t.isViewportFullsize=!0,a.style.addClass(t.config.wrap,s),t.config.controls.close&&t.config.controls.close.removeAttribute("aria-hidden"),setTimeout(()=>{t.isViewportFullsize&&(a.style.addClass(t.config.wrap,l),a.style.addClass(t.pageBody,CONSTANTS.STYLE_CLS_NAMES.BODY_NO_SCROLL_CLASS))},CONSTANTS.TIME.MODAL_ANIMATION_DURATION),"function"==typeof t.config.openCallback&&t.config.openCallback())},document.dispatchEvent(new Event(CONSTANTS.EVENT.MODAL_LOADED))}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,a){const n=e.environment.myList,o={headers:{"Content-Type":"application/json",Authorization:`Bearer ${USER_HELPER.getUserIdentityToken()}`}},i="barca tv",s="afegir a llista";t.MyList=function(){const e=DOM_HELPER.nodeListToArray(document.querySelectorAll(".js-my-list-cta"));(USER_HELPER.isUserLoggedIn()||USER_HELPER.hasValidRefreshToken())&&r(),e.forEach(e=>{new t.MyListCTA(e)})},t.MyListCTA=function(t){const n=this;if(n.cta=t,n.ctaButton=t.querySelector(".js-my-list-cta-button"),n.tooltip=t.querySelector(".js-my-list-cta-tooltip"),n.limitReached=!1,n.notification=document.querySelector(".js-my-list-notification"),n.notificationDescription=document.querySelector(".js-my-list-notification-description"),n.errorMessage={NETWORK_ERROR:PULSE.I18N.lookup("label.my-list.network-error"),LIMIT_REACHED:PULSE.I18N.lookup("label.my-list.limit-reached")},n.registerModal=new e.common.RegisterModal({initiatorButtons:{}}),USER_HELPER.isUserLoggedIn()||USER_HELPER.hasValidRefreshToken()){const e=PULSE.store.getState().myList.data;n.initialiseCTA(e);let t=watch(PULSE.store.getState,["myList","data"]);PULSE.store.subscribe(t(e=>{n.initialiseCTA(e)})),n.addListeners()}else n.setLoginListeners(),a.style.addClass(n.cta,CONSTANTS.STYLE_CLS_NAMES.IS_VISIBLE)},t.MyListCTA.prototype.initialiseCTA=function(t){const n=this;a.style.addClass(n.cta,CONSTANTS.STYLE_CLS_NAMES.IS_VISIBLE);c(n.ctaButton).every(a=>t.find(t=>t.mediaId===a&&t.language===e.language))?a.style.addClass(n.cta,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE):a.style.removeClass(n.cta,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE)},t.MyListCTA.prototype.setLoginListeners=function(){const e=this;e.container=e.ctaButton,A11Y_HELPER.addListener(e.ctaButton,t=>{t.preventDefault(),t.stopPropagation(),e.registerModal.toggleModal()})},t.MyListCTA.prototype.addListeners=function(){const e=this,t=c(e.ctaButton);A11Y_HELPER.addListener(e.ctaButton,n=>{n.preventDefault(),n.stopPropagation();const o=n.currentTarget.dataset.mediaTitle;if(o){const e=JSON.parse(o);e.length>1?e.forEach(e=>{"undefined"!=typeof ANALYTICS_HELPER&&ANALYTICS_HELPER.eventosDTMmultiple(i,s,e)}):"undefined"!=typeof ANALYTICS_HELPER&&ANALYTICS_HELPER.eventosDTM(i,s,e[0])}if(a.style.hasClass(e.cta,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE))e.deletMediaItemsRequest(t),a.style.removeClass(e.cta,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE);else{const n=PULSE.store.getState().myList.data,o=t.filter(e=>!n.some(t=>t.mediaId===e));if(n.length+o.length>=50)return void e.showNotificationModal("LIMIT_REACHED");e.addMediaItemsRequest(o),a.style.addClass(e.cta,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE)}})},t.MyListCTA.prototype.showNotificationModal=function(e){const t=this;t.notification&&t.notificationDescription&&(t.notificationDescription.innerHTML=t.errorMessage[e],a.style.addClass(t.notification,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE),setTimeout(()=>{a.style.removeClass(t.notification,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE)},3*CONSTANTS.TIME.ONE_SECOND))},t.MyListCTA.prototype.addMediaItemsRequest=function(e){const t=this,i=e.map(e=>l(e)),s={method:"POST",...o,body:JSON.stringify(i)};fetch(n,s).then(e=>(e.status!==CONSTANTS.HTTP_STATUS.OK&&e.status!==CONSTANTS.HTTP_STATUS.CREATED&&console.warn(e),e.json())).then(e=>{const t=e.map(e=>e.favoriteItem);PULSE.store.dispatch(PULSE.app.actions.MyList.addItems(t))}).catch(e=>{a.style.removeClass(t.cta,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE),t.showNotificationModal("NETWORK_ERROR"),console.error(e)})},t.MyListCTA.prototype.deletMediaItemsRequest=function(e){const t=this,i=PULSE.store.getState().myList.data.filter(t=>e.includes(t.mediaId)),s={method:"DELETE",...o,body:JSON.stringify(i)};fetch(n,s).then(e=>{e.status!==CONSTANTS.HTTP_STATUS.OK&&console.warn(e),PULSE.store.dispatch(PULSE.app.actions.MyList.removeItems(i))}).catch(e=>{a.style.removeClass(t.cta,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE),t.showNotificationModal("NETWORK_ERROR"),console.error(e)})};const l=t=>({mediaId:t,mediaType:"VIDEO",language:PULSE.app.language,account:e.accountName}),r=function(){const t=`${n}`+URL_HELPER.prepareParams({size:50,language:e.language});PULSE.store.dispatch(PULSE.app.actions.MyList.init(t,o))},c=e=>{const t=e.getAttribute("data-media-id");return t?t.split(","):[]};PULSE.store?new t.MyList:document.body.addEventListener(CONSTANTS.EVENT.STORE_READY,()=>{new t.MyList})}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,a){const n=function(){const e=this;A11Y_HELPER.toggleZIndex(e.flexNavContainer),A11Y_HELPER.toggleAriaMenuAttributes(e.flexNavContainer),t.style.toggleClass(e.flexNavContainer,e.config.flexNavOpenCls)};a.FlexNav=function(e,a=PRESET_CONFIG.MORE_NAV){const n=this;SCREEN_HELPER.isMobileView()||(n.config=Object.freeze({...PRESET_CONFIG.MORE_NAV,...a}),n.initialised=!1,n.listElements=Object.freeze(CLONE_HELPER.cloneArray(n.config.container.children)),n.hiddenItems=0,n.moreNavBuilt=!1,n.hasMoreNav=!1,n.handleOverflow(),SCREEN_HELPER.onDebouncedResize(n.handleOverflow.bind(n)),SCREEN_HELPER.onDebouncedOrientation(n.handleOverflow.bind(n)),t.style.removeClass(n.config.container,"u-overflow-hidden"))},a.FlexNav.prototype.checkOverflow=function(){const e=this,t=e.config.isTertiary?e.config.tertiaryContainer.clientWidth:e.config.container.clientWidth,a=e.listElements.length-e.hiddenItems;let n=0;for(let t=0;t<a;t++)n+=e.listElements[t].clientWidth;return e.hasMoreNav&&(n+=e.flexNavContainer.clientWidth),e.config.additionalMenuItem&&(n+=e.config.additionalMenuItem.clientWidth),n>t},a.FlexNav.prototype.createMoreDropdown=function(){const e=this,t=document.createElement(e.config.containerNodeType);t.className=e.config.containerCls,t.setAttribute("tabindex",e.config.tabindex);const a=document.createElement(e.config.flexNavNodeType);a.className=e.config.flexNavCls,e.config.container.insertBefore(t,null),t.appendChild(function(e,t=PULSE.I18N.lookup(e.defaultMoreText)){const a=document.createElement(e.moreLabelNodeType);a.className=e.moreLabelCls;const n=document.createElement("span");return n.className=e.moreLabelTextJsCls,n.innerText=t,a.appendChild(n),e.moreLabelSVG&&a.appendChild(DOM_HELPER.createSVG({cssClass:"icon",name:e.moreLabelSVG,sprite:"icn"})),a}(e.config)),t.appendChild(a),e.flexNavContainer=t,e.flexNav=a,e.moreNavBuilt=!0,e.hasMoreNav=!0,e.config.clickEvent&&A11Y_HELPER.addListener(e.flexNavContainer,n.bind(e)),A11Y_HELPER.resetAriaMenuAttributes(e.flexNavContainer)},a.FlexNav.prototype.getPotentialWidth=function(e){const a=this;a.hasMoreNav&&1===a.hiddenItems&&t.style.addClass(a.flexNavContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE);const n=e.cloneNode(!0);t.style.removeClass(n,a.config.hideCls),t.style.addClass(a.config.container,"u-overflow-hidden"),a.config.container.appendChild(n);const o=a.listElements.length-a.hiddenItems;let i=0;for(let e=0;e<o;e++)i+=a.listElements[e].clientWidth;return i+=n.clientWidth,a.hasMoreNav&&(i+=a.flexNavContainer.clientWidth),a.config.additionalMenuItem&&(i+=a.config.additionalMenuItem.clientWidth),a.config.container.removeChild(n),t.style.removeClass(a.config.container,"u-overflow-hidden"),a.hasMoreNav&&1===a.hiddenItems&&t.style.removeClass(a.flexNavContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),i},a.FlexNav.prototype.handleOverflow=function(){const e=this;e.checkOverflow()?(e.moreNavBuilt||e.createMoreDropdown(),e.checkPushToMore()):0!==e.hiddenItems&&e.removeFromMore(),e.cleanUpMoreNavItems(),e.flexNav&&o.call(e.flexNav)},a.FlexNav.prototype.cleanUpMoreNavItems=function(){const e=this;if(!e.flexNav)return;const a=e.flexNav.querySelectorAll("[data-flex-nav-item]");for(let n=0;n<a.length;n++)for(let o=0;o<e.listElements.length;o++){e.listElements[o].getAttribute("data-item")===a[n].getAttribute("data-item")&&!t.style.hasClass(e.listElements[o],"u-hide")&&e.flexNav.contains(a[n])&&e.flexNav.removeChild(a[n])}},a.FlexNav.prototype.checkPushToMore=function(){const e=this;if(e.checkOverflow()){let t=e.listElements.length-e.hiddenItems-1;e.pushToMore(t)}},a.FlexNav.prototype.pushToMore=function(e){const a=this,n=a.listElements[e];if(!n)return;const o=n.cloneNode(!0);o.setAttribute("data-flex-nav-item",e),A11Y_HELPER.toggleZIndex(o),a.flexNav.insertBefore(o,a.flexNav.children[0]),t.style.addClass(n,a.config.hideCls),a.hiddenItems++,a.moreNavBuilt&&!a.hasMoreNav&&(t.style.removeClass(a.flexNavContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),a.hasMoreNav=!0),a.checkPushToMore()},a.FlexNav.prototype.removeFromMore=function(){const e=this,a=e.config.isTertiary?e.config.tertiaryContainer.clientWidth:e.config.container.clientWidth,n=e.hiddenItems;for(let o=0;o<n;o++){const n=e.listElements[e.listElements.length-e.hiddenItems];if(e.getPotentialWidth(n)<=a){const a=parseInt(n.getAttribute("data-item")),o=e.flexNav.querySelector(`[data-flex-nav-item="${a}"]`);o&&e.flexNav.removeChild(o),t.style.removeClass(n,CONSTANTS.STYLE_CLS_NAMES.HIDE),e.hiddenItems--}}0===e.hiddenItems&&(t.style.addClass(e.flexNavContainer,CONSTANTS.STYLE_CLS_NAMES.U_HIDE),e.hasMoreNav=!1)};const o=function(){const e=[].slice.call(this.querySelectorAll('[data-analytics="true"]'));"undefined"!=typeof ANALYTICS_HELPER&&e.length>0&&(e.forEach(e=>e.setAttribute("data-analytics-initialised","false")),ANALYTICS_HELPER.addEventListeners(e))}}(PULSE.app,PULSE.core,PULSE.app.common),function(e,t){const a=!1,n=!1,o=function(e){const a=this;a.navContainers=DOM_HELPER.nodeListToArray(a.container.querySelectorAll(`.${a.config.navSelector}`)),a.navContainers.forEach(e=>{t.style.removeClass(e,a.config.activeClass)});for(let t=0;t<a.navContainers.length;t++){const n=a.navContainers[t],o=n.getAttribute(a.config.navIdAttribute);o&&o.includes(e)&&s.call(a,n,o)}},i=function(e){const t=this;for(let a=0;a<t.navActivators.length;a++){const n=t.navActivators[a];if(n.getAttribute(t.config.activationElementIdAttribute).includes(e))return n}return null},s=function(e,a){const n=this;e&&(n.currentlyActive=e,t.style.addClass(n.currentlyActive,n.config.activeClass),n.config.didUpdateActive&&"function"==typeof n.config.didUpdateActive&&n.config.didUpdateActive(a))},l=function(e){const t=e.length>0?e[0]:{};if(1!==t.intersectionRatio)return;const a=t.target.getAttribute(this.config.activationElementIdAttribute);o.call(this,a)},r=function(e){const t=this,a=e.getAttribute(t.config.navIdAttribute);if(!a)return;const n=a.split("#")[1],s=i.call(t,n);if(!s)return void(window.location.href=a);o.call(t,n);let l=0;l=SCREEN_HELPER.isMobileView()?t.config.marginBottom+e.parentElement.clientHeight+t.mobileNav.clientHeight:t.config.marginBottom+t.navContainer.clientHeight;const r=document.scrollingElement?document.scrollingElement.scrollTop:document.documentElement.scrollTop;window.scrollTo(0,r+s.getBoundingClientRect().top-l)},c=function(){const e=this;e.navContainers=DOM_HELPER.nodeListToArray(e.container.querySelectorAll(`.${e.config.navSelector}`)),e.navActivators=DOM_HELPER.nodeListToArray(document.body.querySelectorAll(`.${e.config.activationElementSelector}`)),e.navActivators.forEach(t=>{e.observer.observe(t)}),e.navContainer&&(e.a11yListeners.push(A11Y_HELPER.addListener(e.navContainer,t=>{t.preventDefault(),t.target.matches(`.${e.config.navSelector}`)?r.call(e,t.target):t.target.parentElement.matches(`.${e.config.navSelector}`)&&r.call(e,t.target.parentElement)},a,n)),e.navDropdownContainer&&e.a11yListeners.push(A11Y_HELPER.addListener(e.navDropdownContainer,t=>{t.preventDefault(),t.target.matches(`.${e.config.navSelector}`)?r.call(e,t.target):t.target.parentElement.matches(`.${e.config.navSelector}`)&&r.call(e,t.target.parentElement)},a,n)))},d=function(){const e=this;e.navActivators.forEach(t=>{e.observer.unobserve(t)}),e.navContainers.forEach((t,a)=>{A11Y_HELPER.removeListener(t,e.a11yListeners[a],n)}),e.a11yListeners=[]};e.IntersectionNav=function(e,t){const a=this;a.config={...PRESET_CONFIG.INTERSECTION_NAV,...t},a.primaryNav=document.querySelector(`.${CONSTANTS.JS_CLS_NAMES.NAV_CORE}`),a.secondaryNav=document.querySelector(`.${CONSTANTS.JS_CLS_NAMES.SECONDARY_NAV}`),a.mobileNav=document.querySelector(".main-mobile-navigation"),a.container=e,a.navContainer=a.container.querySelector(`.${a.config.navContainerSelector}`),a.navDropdownContainer=a.container.querySelector(`.${a.config.navDropdownSelector}`),a.a11yListeners=[],a.observer=new IntersectionObserver(l.bind(a),a.config.observer),c.call(a),a.currentlyActive=a.navContainers[0]},e.IntersectionNav.prototype.update=function(e={}){const t=this;d.call(t),t.navContainer.innerHTML=TEMPLATE_HELPER.render(e,t.config.itemsTemplate),c.call(t)}}(PULSE.app.common,PULSE.core),function(e,t){const a={container:null,containerSelector:".js-tab-container",linkAttr:"data-href",tabActivatorSelector:".js-main-nav-item",onTabClicked:!1,tabActiveClass:"search-page__tab--show",currentContainer:".js-dropdown-current",tabNameAttr:"data-tab-name",callback:!1,updateUrl:!0,getActivatorActiveClass:function(e){return t.style.hasClass(e,"section-navigation__text-container")?"section-navigation__text-container--active":t.style.hasClass(e,"section-navigation-dropdown__option-link")?"section-navigation-dropdown__option-link--active":"is-active"}},n=function(e,t){const a=e.container.querySelector(e.currentContainer);a&&(a.innerHTML=t)},o=function(e,a,n){a.forEach(e=>{t.style.removeClass(e,n.getActivatorActiveClass(e))});for(let a in e)if(e.hasOwnProperty(a)){const o=e[a];t.style.removeClass(o,n.tabActiveClass)}},i=function(e,a,i,s){o(i,s,a);for(let n in i)i.hasOwnProperty(n)&&i[n].getAttribute(a.linkAttr)===e&&(t.style.addClass(i[n],a.tabActiveClass),a.callback&&a.callback(n));s.forEach(o=>{o.getAttribute(a.linkAttr)===e&&(t.style.addClass(o,a.getActivatorActiveClass(o)),n(a,o.getAttribute(a.tabNameAttr)||o.innerText))})},s=function(e){const a=DOM_HELPER.nodeListToArray(e.container.querySelectorAll(e.containerSelector)),s=DOM_HELPER.nodeListToArray(e.container.querySelectorAll(e.tabActivatorSelector)),l=a.reduce((t,a)=>(t[a.getAttribute(e.linkAttr)]=a,t),{});s.forEach(a=>{A11Y_HELPER.addListener(a,i=>{i.preventDefault(),function(e,a,i,s,l){const r=e.getAttribute(s.linkAttr),c=i[r];c&&(o(i,l,s),t.style.addClass(c,s.tabActiveClass),l.forEach(e=>{e.getAttribute(s.linkAttr)===r&&t.style.addClass(e,s.getActivatorActiveClass(e))}),s.updateUrl&&(window.location.hash=r),n(s,e.getAttribute(s.tabNameAttr)||e.innerText),a&&a(r))}(a,e.callback,l,e,s)})});const r=function(e,t,a){const n=Object.keys(t),o=window.location.hash;return!!n.includes(o)&&(i(o,e,t,a),!0)}(e,l,s);if(!r){const t=s[0].getAttribute(e.linkAttr);i(t,e,l,s),n(e,s[0].getAttribute(e.tabNameAttr)||s[0].innerText)}return l};e.SimpleTabs=function(e={}){const t=this;t.config={...a,...e},t.tabs=s(t.config)}}(PULSE.app.common,PULSE.core),function(e,t,a){const n=function(){const e=this;for(let n=0;n<e.elements.length;n++)e.elements[n].addEventListener(CONSTANTS.EVENT.ACTIVATE,()=>{const t=e.elements[n].getAttribute("data-observe");a.style.addClass(e.elements[n],`${t}${CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE}`)}),t.GlobalIntersectionObserver.observe(e.elements[n])};e.ObserveElements=function(e){this.elements=e,n.call(this)};const o=document.querySelectorAll("[data-observe]");e.elementObserver=new e.ObserveElements(o)}(PULSE.app,PULSE.app.common,PULSE.core,CONSTANTS),function(e,t,a){a.personalisation=new class{constructor(){this.rankedItems=null}trackEvent(e={},t){return!0===CONSENT_HELPER.getConsent("statistics")&&(e.eventType?e.userId?e.itemId?void(null===window.sessionStorage.getItem("sessionId")&&window.sessionStorage.setItem("sessionId",UUID_HELPER.createUUID())):(console.warn("event tracker requires param itemId"),!1):(console.warn("event tracker requires param userId"),!1):(console.warn("event tracker requires param eventType"),!1))}storeRankedItems(e){Array.isArray(e)||console.warn("items should be an array"),this.rankedItems=e}}}(PULSE.app,PULSE.core,PULSE.app.common),function(e){e.PlayerPhoto=function(a){const n=this;n.element=a,n.playerId=n.element.getAttribute("data-player"),n.imageSize=n.element.getAttribute("data-size")||"111x160",e.GlobalIntersectionObserver.observe(n.element),n.element.addEventListener(CONSTANTS.EVENT.ACTIVATE,t.bind(n))};const t=function(){const e=this,t=URL_HELPER.getPlayerPhoto(e.playerId,e.imageSize),a=new Image;a.onload=()=>{e.element.style.backgroundImage=`url(${t})`},a.setAttribute("src",t)};e.initPlayerPhotos=function(t){if(!t)return;const a=t.querySelectorAll('[data-widget="player-image"]');for(let t=0;t<a.length;t++)new e.PlayerPhoto(a[t])},e.initPlayerPhotos(document)}(PULSE.app.common),function(e){PULSE.app.common.Promo=function(e,t=!1,n=""){const o=this;return o.promo=e,o.isVip=t,o.cssClass=n,DOM_HELPER.htmlStringToDomElement(a.call(o))};const t=function(e){const t={};return t.mobileUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Mobile"),t.mobileUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Mobile (Retina)"),t.phabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Phablet"),t.phabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Phablet (Retina)"),t.tabletUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Tablet"),t.tabletUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Tablet (Retina)"),t.desktopSmallUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop Small"),t.desktopSmallUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop Small (Retina)"),t.desktopUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop"),t.desktopUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Desktop (Retina)"),t.wideUrl=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Wide"),t.wideUrlRetina=IMAGE_HELPER.getPhotoByVariant(e.variants,"Featured Article Hero - Wide (Retina)"),t},a=function(){const e=this,a=e.promo,n=a.metadata||{};const o={promo:a,tracking:`data-analytics="true" data-analytics-type="${n["tracking-action"]||"other"}" data-analytics-section="${n["tracking-category"]||"promo widget"}" data-analytics-event="${n["tracking-label"]||`${a.id}: ${a.title}`}"`,sponsor:a.tags.length?TEMPLATE_HELPER.getSponsorTag(a.tags):"",isVip:e.isVip,cssClass:e.cssClass,variants:t(a.promoItem)};return TEMPLATE_HELPER.render(o,"featured-promo")}}(),function(e,t,a){const n="força-barça__icon--disabled",o="has-clapped",i="data-reaction-type",s="data-reaction-parent-id",l="data-reaction-id",r="data-ready-class",c="data-analytics-label",d="BLOG_POST",p="VIDEO",u="MATCH_EVENT",m="TEXT",E="PLAYLIST",h="PROMO",f={[d]:(e,t)=>`blog/${t}/post/${e}`,[p]:e=>`video/${e}`,[u]:(e,t)=>`match/${t}/event/${e}`,[m]:e=>`text/${e}`,[E]:e=>`playlist/${e}`,[h]:e=>`promo/${e}`},g=200,S=200,_=.05,v=1,b=6,L=2,y=3,C="#cd122d",T="#154284",w="#fdc52c",P=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,A=window.cancelAnimationFrame||window.mozCancelAnimationFrame,N=function(e,t){if(e.data.content&&e.data.content.length>0){const a=parseInt(e.data.content[0].count);return a>=t?a:t}return t},R=function(e,t){const n=this;return axios.get(`${a.environment.reactions}/${f[e.type](e.id,e.parentId)}${URL_HELPER.prepareParams({action:"clap",limit:1})}`).then(e=>(n.displayCount=N(e,t),n.displayCount))},I=function(e,a,n,o){return a.innerText=e.toLocaleString("en"),t.style.addClass(n,o),e},U=function(e,t){return t.innerText=e.toLocaleString("en"),e},O=function(e,t,a){const n=this;R.call(n,e,n.displayCount).then(e=>{I(e,t,a,n.readyClass)})},k=function(){this.forcaClapCounter.style.animationPlayState="running",this.isClapping=!1},x=function(e){const i=this;let s=null;i.clapsMade<i.maxClaps&&(i.clapsMade++,i.animID&&A(i.animID),i.confettiOpacity=1,function(e){const t=Math.floor(Math.random()*b);for(var a=0;a<t;a++)e.push(new D(g,S))}(i.confettiObjects),function(e){const t=L+Math.floor(Math.random()*y);for(var a=0;a<t;a++)e.push(new H(g,S))}(i.confettiObjects),F.call(i),i.hasClapped||(i.hasClapped=!0,t.style.addClass(i.forca,o),i.forcaClapCounter.addEventListener("animationend",M.bind(i))),i.isClapping?(i.forcaClapCounter.style.animationPlayState="paused",clearTimeout(s),s=setTimeout(k.bind(i),1500)):(i.isClapping=!0,s=setTimeout(k.bind(i),1500)),U(i.clapsMade,i.forcaClapCounter),i.clapsMade===i.maxClaps&&(t.style.addClass(i.forca,"max-claps-made"),t.style.removeClass(i.forca,o),t.style.addClass(i.forcaButton,n),U(i.maxClaps,i.forcaMaxClapTotal),i.confettiCtx.fillStyle=w),axios.post(a.environment.reactions,{itemId:f[e.type](e.id,e.parentId),reactionType:"clap"}).then(e=>{i.axiospostcount++,i.displayCount=N(e,i.displayCount),I(i.displayCount,i.counterElem,i.container,i.readyClass),i.analyticsLabel&&"undefined"!=typeof _satellite&&(_satellite.setVar({catFCB:"forca-barca",actFCB:"like",labelFCB:i.analyticsLabel}),_satellite.track("scEvent"))}))},M=function(){const e=this;e.hasClapped=!1,e.isClapping=!1,t.style.removeClass(e.forca,o),e.forcaClapCounter.removeEventListener("animationend",M)};function H(){const e=5*Math.random()-2,t=26*Math.random()-13;this.x=g/2,this.y=S/2,this.velocityX=e,this.velocityY=t}function D(){const e=5*Math.random()-2,t=6*Math.random()-3,a=2+3*Math.random();this.x=g/2,this.y=S/2,this.radius=a,this.velocityX=e,this.velocityY=t}function F(){const e=this;if(e.confettiCtx.clearRect(0,0,e.confettiCanvas.width,e.confettiCanvas.height),!(e.confettiOpacity>0))return e.confettiObjects=[],e.confettiOpacity=0,void A(e.animID);for(var t=0;t<e.confettiObjects.length;t++)e.confettiObjects[t].draw(e.confettiCtx),e.confettiObjects[t].update();e.confettiOpacity-=.02,e.confettiCanvas.style.opacity=e.confettiOpacity,e.animID=P(F.bind(e))}e.ForcaBarca=function(a,o){const d=this;d.container=a,d.counterElem=d.container.querySelector(".js-forca-barca-counter"),d.forca=d.container.querySelector(".js-forca-barca"),d.forcaButton=d.container.querySelector(".js-forca-barca-button"),d.forcaClapCounter=d.container.querySelector(".js-forca-clap-counter"),d.forcaMaxClapTotal=d.container.querySelector(".js-forca-max-clap-total"),d.static="true"===d.container.getAttribute("data-static"),e.GlobalIntersectionObserver.observe(d.container),d.container.addEventListener(CONSTANTS.EVENT.ACTIVATE,()=>{O.call(d,d.params,d.counterElem,a),d.static||(A11Y_HELPER.addListener(d.forcaButton,()=>{d.forcaButton.blur(),d.displayCount++,d.counterElem.innerText=d.displayCount.toLocaleString("en"),x.call(d,d.params)},!1),d.initConfettiCanvas(d))}),d.readyClass=d.container.getAttribute(r)||"força-barça--visible",d.hasClapped=!1,d.displayCount=0,d.maxClaps=o||10,d.clapsMade=0,d.isCounting=!1,d.params={type:d.container.getAttribute(i),id:d.container.getAttribute(l),parentId:d.container.getAttribute(s)},d.analyticsLabel=d.container.getAttribute(c),!d.static&&d.forcaButton&&t.style.removeClass(d.forcaButton,n),d.axiospostcount=0},e.ForcaBarca.prototype.initConfettiCanvas=function(){const e=this;e.confettiObjects=[],e.confettiCanvas=document.createElement("canvas"),e.confettiCanvas.classList.add("confetti-canvas","js-confetti-canvas"),e.forcaButton.prepend(e.confettiCanvas),e.confettiCtx=e.confettiCanvas.getContext("2d"),e.confettiCanvas.width=g,e.confettiCanvas.height=S,e.confettiCtx.clearRect(0,0,e.confettiCanvas.width,e.confettiCanvas.height),e.confettiGrad=e.confettiCtx.createLinearGradient(0,0,g,S),e.confettiGrad.addColorStop(0,C),e.confettiGrad.addColorStop(1,T),e.confettiCtx.fillStyle=e.confettiGrad,e.confettiOpacity=v},H.prototype.draw=function(e){e.save(),e.miterLimit=4,e.scale(.15,.15),e.translate(9*this.x,this.y+150),e.beginPath(),e.moveTo(-103,408),e.bezierCurveTo(-107,411,-112,413,-117,410),e.lineTo(-171,387),e.lineTo(-174,409),e.bezierCurveTo(-175,417,-178,416,-181,418),e.bezierCurveTo(-184,420,-189,420,-192,418),e.lineTo(-261,388),e.bezierCurveTo(-267,386,-270,378,-267,372),e.bezierCurveTo(-264,366,-257,363,-251,366),e.lineTo(-197,389),e.lineTo(-193,367),e.bezierCurveTo(-193,363,-190,360,-187,358),e.bezierCurveTo(-184,356,-180,356,-176,358),e.lineTo(-107,388),e.bezierCurveTo(-101,390,-98,398,-101,404),e.bezierCurveTo(-101,405,-102,407,-103,409),e.closePath(),e.fill(),e.translate(9*-this.x,150-this.y),e.restore()},H.prototype.update=function(){this.velocityY+=3*_,this.x+=this.velocityX,this.y+=this.velocityY},D.prototype.draw=function(e){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.fill()},D.prototype.update=function(){this.velocityY+=_,this.x+=this.velocityX,this.y+=this.velocityY};const V=document.querySelectorAll('[data-widget="forca-barca"]');for(let t=0;t<V.length;t++)new e.ForcaBarca(V[t])}(PULSE.app.common,PULSE.core,PULSE.app),function(e,t){const a="is-open";e.RegisterModal=function(e={}){const t=this;t.config=function(e){const t=e.modal||document.querySelector(".js-register-modal"),a={container:e.container,modal:t,closeButton:e.closeButton||t.querySelector(".js-modal-close"),initiatorButtons:e.initiatorButtons,loginParam:e.loginParam||"",redirectUrl:e.redirectUrl||window.location.href,analyticsEvent:e.analyticsEvent||null};return e.flowIdLogin&&e.flowIdRegister&&(a.flowIdLogin=e.flowIdLogin,a.flowIdRegister=e.flowIdRegister),a}(e),t.container=t.config.container,t.registerModal=t.config.modal,t.setListeners()},e.RegisterModal.prototype.setEventLabel=function(e){const t="data-analytics-event",a=this.registerModal.querySelector(".js-register-btn"),n=this.registerModal.querySelector(".js-login-btn");a&&n&&(a.setAttribute(t,e),n.setAttribute(t,e))},e.RegisterModal.prototype.setFlowIdLabel=function(e,t){const a=this.registerModal.querySelector(".js-register-btn"),n=this.registerModal.querySelector(".js-login-btn");n&&a&&(n.setAttribute("data-flow-id-login",e),a.setAttribute("data-flow-id-register",t))},e.RegisterModal.prototype.toggleModal=function(){const e=this;t.style.hasClass(e.registerModal,a)?(document.removeEventListener("keydown",e.escapeClose),e.config.analyticsEvent&&e.setEventLabel("barça fans contingut"),e.config.flowIdLogin&&e.config.flowIdRegister&&e.setFlowIdLabel("login","register"),t.style.removeClass(e.registerModal,a)):(t.style.addClass(e.registerModal,a),e.config.analyticsEvent&&e.setEventLabel(e.config.analyticsEvent),e.config.flowIdLogin&&e.config.flowIdRegister&&e.setFlowIdLabel(e.config.flowIdLogin,e.config.flowIdRegister),document.addEventListener("keydown",e.escapeClose))},e.RegisterModal.prototype.setListeners=function(){const e=this;if(e.config.initiatorButtons.length&&e.config.initiatorButtons.forEach(t=>{A11Y_HELPER.addListener(t,()=>{e.toggleModal()})}),!e.registerModal.dataset.inititalised){e.config.closeButton&&A11Y_HELPER.addListener(e.config.closeButton,()=>{e.toggleModal()}),A11Y_HELPER.addListener(e.registerModal,t=>{e.registerModal===t.target&&e.toggleModal()}),e.escapeClose=function(t){27===t.which&&e.toggleModal()};const t=e.registerModal.querySelector(".js-login-btn"),a=e.registerModal.querySelector(".js-register-btn");let n=t.dataset.flowIdLogin,o=a.dataset.flowIdRegister;e.config.flowIdLogin&&e.config.flowIdRegister&&(n=e.config.flowIdLogin,o=e.config.flowIdRegister),t&&A11Y_HELPER.addListener(t,t=>{t.preventDefault(),e.config.loginParam&&history.pushState(history.state,document.title,e.config.redirectUrl+"?"+e.config.loginParam),USER_HELPER.logIn("",n)}),a&&A11Y_HELPER.addListener(a,t=>{t.preventDefault(),e.config.loginParam&&history.pushState(history.state,document.title,e.config.redirectUrl+"?"+e.config.loginParam),USER_HELPER.register("",o)})}e.registerModal.dataset.inititalised=!0}}(PULSE.app.common,PULSE.core),function(e,t,a){const n=function(e){const a=this,n=e.currentTarget.value.length>0,o=t.style.hasClass(a.searchBar,a.hideClass);e.which===CONSTANTS.KEY_CODES.ENTER&&a.onSearch(),n&&!o?t.style.addClass(a.searchBar,a.hideClass):n||t.style.removeClass(a.searchBar,a.hideClass)};e.SearchInput=function(e,t,a){const n=this;e&&t&&(n.hideClass=a||"search-bar--hide-icon",n.searchBar=e,n.searchInput=t,n.searchBarCta=n.searchBar.querySelector(".js-search-bar-cta"),n.addListeners())},e.SearchInput.prototype.addListeners=function(){const e=this;e.searchInput.addEventListener("keyup",n.bind(e)),A11Y_HELPER.addListener(e.searchBarCta,()=>{e.onSearch()})},e.SearchInput.prototype.onSearch=function(){const e=this.searchInput.value;e&&(window.location=`/${a.language}/search?s=${e}`)}}(PULSE.app.common,PULSE.core,PULSE.app),function(e,t,a){const n={fullObjectResponse:!0,lang:e.language,sort:"timestamp desc",fields:"title,description"},o="col-3 col-6-desk col-12-phab uniform-grid__section";e.SearchResults=function(e,t,a={}){const o=this;o.terms=!1,o.onData=t,o.render=a.render,o.fuzzySearch=a.fuzzySearch||!1,o.container=e,o.pagination={page:0,numPages:!1},o.urlParams={...n,terms:!1,type:o.container.getAttribute("data-type"),size:parseInt(o.container.getAttribute("data-page-size"))},o.columns=void 0===a.columns||a.columns,o.analytics={trackVirtualPageView:a.trackVirtualPageView,section:a.analyticsSection};const i=o.container.getAttribute("data-tags"),s=o.container.getAttribute("data-fields");i&&(o.urlParams.tags=i),s&&(o.urlParams.fields=s),o.config={template:o.container.getAttribute("data-template")}},e.SearchResults.prototype.fetch=function(e,t){const a=this;if(e===a.terms&&!t)return!1;e!==a.terms&&(a.container.innerHTML=TEMPLATE_HELPER.render({},"search-loader"),a.pagination.page=0),a.terms=e;let n=e;a.fuzzySearch&&(n=`${e},${e}*`);const o=a.pagination.page*a.urlParams.size;return axios.get(URL_HELPER.getSearchUrl({...a.urlParams,terms:n,start:o})).then(e=>e.data.hits).then(e=>(a.data=e,a.pagination.numPages=Math.ceil(a.data.found/a.urlParams.size),s.call(a,a.container,a.config.container,e,t),a.onData&&a.onData(a.data),e.found))},e.SearchResults.prototype.getPagination=function(){return this.pagination},e.SearchResults.prototype.fetchNext=function(){const e=this;return e.pagination.page+=1,e.fetch(e.terms,!0)},e.SearchResults.prototype.initLazyImages=function(e){[].forEach.call(e.querySelectorAll(`.${CONSTANTS.JS_CLS_NAMES.LAZY_PICTURE_ELEMENT}`),function(e){e.getAttribute("data-lazy-init")||(new a.LazyPictureElement(e),e.setAttribute("data-lazy-init","true"))})},e.SearchResults.prototype.initMyListCTAs=function(t){[].forEach.call(t.querySelectorAll(".js-my-list-cta"),function(t){new e.common.MyListCTA(t)})};const i=function(e,t){const a=this,n=TEMPLATE_HELPER.contentHasTag(t.tags,CONSTANTS.TAGS.TYPE.FEATURED.tag)?{variants:{thumb:"Standard Article Hero - Mobile",thumbRetina:"Standard Article Hero - Mobile (Retina)"}}:{};return"video"===e?{thumbClass:a.columns?o:"",columnClass:a.columns?"col-3 col-6-desk search-page__video-col":""}:{columnClass:a.columns?o:"",thumbnailClass:"thumbnail--mobile-compact",...n}},s=function(e,t,n,o){const s=this;0===n.hit.length?e.innerHTML=TEMPLATE_HELPER.render({},"search-empty"):o||(e.innerHTML="");const l=n.hit.map(e=>!!e.response&&new a.ContentModel(e.response,i.call(s,e.response.type,e.response)));"function"==typeof s.render?s.render(n,l):(l.forEach(t=>{t&&e.appendChild(t.getHtmlElement())}),s.initLazyImages(e))}}(PULSE.app,PULSE.core,PULSE.app.common),function(e,t){e.Slider=function(e){this.config=deepFreeze(CLONE_HELPER.deepCloneObject(e)),this.initSlider()},e.Slider.prototype.getActiveSlide=function(){return this.activeSlide},e.Slider.prototype.setActiveSlide=function(e){this.activeSlide=e},e.Slider.prototype.getItemsLeft=function(){const e=this;e.itemsLeft=e.config.sliderElements.length-e.activeSlide*e.itemsPerPage,e.itemsLeft<e.itemsPerPage?e.fullScroll=!1:e.fullScroll=!0},e.Slider.getPageCount=function(e){const a=e.featuredThumbClass?DOM_HELPER.nodeListToArray(e.sliderElements).filter(a=>t.style.hasClass(a,e.featuredThumbClass)).length:0;return Math.ceil((e.sliderElements.length-a)/e.perPage)+a},e.Slider.prototype.initSlider=function(t=e.Slider.getPageCount){const a=this;a.slideWidth=a.config.slideContainer.clientWidth,a.pagerElements=a.config.pagerElements,a.itemsPerPage=a.config.perPage,a.slideNum=t(a.config),a.activeSlide=0,a.direction="left",a.fullScroll=!0,a.config.slideContainer.style[a.direction]="0px",a.itemsLeft=a.config.sliderElements.length,a.setListeners(),a.resetSlider()},e.Slider.prototype.isVisibleInSlideView=function(e,t){const a=e.getBoundingClientRect(),n=t.getBoundingClientRect(),o=a.top>=n.top,i=a.bottom<=n.bottom,s=a.left>=n.left,l=a.right<=n.right;return o&&i&&s&&l},e.Slider.prototype.focusedAtIndex=function(e){const t=this,a=Math.floor(e/parseInt(t.itemsPerPage));a!==t.activeSlide&&t.slideTo(a)},e.Slider.prototype.isPaginating=function(){return!!this.config.pagerItemsContainer&&this.config.pagerItemsContainer.offsetParent},e.Slider.prototype.nudgeLeft=function(){t.style.toggleClass(this.config.slideContainer,this.config.nudgeLeftClass)},e.Slider.prototype.nudgeRight=function(){t.style.toggleClass(this.config.slideContainer,this.config.nudgeRightClass)},e.Slider.prototype.renderPaginator=function(){const e=this;if(e.config.pagerItemsContainer)if(e.slideNum>1){e.config.pagerItemsContainer.innerHTML=TEMPLATE_HELPER.render({slideNum:e.slideNum,widgetClass:e.config.widgetClass||"content-slider"},"slider-paginator"),e.pagerElements=e.config.container.querySelectorAll(".js-pager-btn");for(let t=0;t<e.pagerElements.length;t++)A11Y_HELPER.addListener(e.pagerElements[t],()=>{e.activeSlide=t,e.slideTo(t)});for(let t=0;t<e.config.sliderElements.length;t++)e.config.sliderElements[t].addEventListener("focusin",e.focusedAtIndex.bind(e,t));t.style.removeClass(e.config.prevButton,"u-hide"),t.style.removeClass(e.config.nextButton,"u-hide")}else t.style.addClass(e.config.prevButton,"u-hide"),t.style.addClass(e.config.nextButton,"u-hide")},e.Slider.prototype.resetSlider=function(){const e=this;if(window.innerWidth>CONSTANTS.BREAKPOINTS.TABLET){let t=0;Array.prototype.forEach.call(e.config.slideContainer.children,a=>{e.isVisibleInSlideView(a,e.config.slideContainer)&&t++}),e.config.staticPerPage||(e.itemsPerPage=t)}e.slideElementWidth=e.config.sliderElements[e.config.widthReferenceIndex||0].clientWidth*e.itemsPerPage,e.slideNum=Math.ceil(e.config.sliderElements.length/e.itemsPerPage),e.activeSlide=0,e.renderPaginator(),e.slideTo(e.activeSlide)},e.Slider.prototype.scrollNext=function(){const e=this;e.activeSlide!==e.slideNum-1&&(e.activeSlide++,e.slideTo(e.activeSlide),e.updateControls(),e.setActiveItems(),e.config.nextCallback&&e.config.nextCallback())},e.Slider.prototype.scrollPrev=function(){const e=this;0!==e.activeSlide&&(e.activeSlide--,e.slideTo(e.activeSlide),e.updateControls(),e.setActiveItems(),e.config.previousCallback&&e.config.previousCallback())},e.Slider.prototype.scrollSlider=function(){const e=this;if(e.fullScroll){const t=e.slideElementWidth*e.activeSlide;e.config.slideContainer.style.left="-"+t+"px"}else{const t=e.slideElementWidth*e.activeSlide-e.config.sliderElements[0].clientWidth*(e.itemsPerPage-e.itemsLeft);e.config.slideContainer.style.left="-"+t+"px"}},e.Slider.prototype.setActiveItems=function(){const e=this;for(let a=0;a<e.config.sliderElements.length;a++)t.style.removeClass(e.config.sliderElements[a],e.config.itemActiveClass);let a=e.activeSlide*e.itemsPerPage;e.config.sliderElements.length-a<e.itemsPerPage&&(a=e.config.sliderElements.length-e.itemsPerPage,a<0&&(a=0));for(let n=0;n<e.itemsPerPage&&e.config.sliderElements[a];n++)t.style.addClass(e.config.sliderElements[a],e.config.itemActiveClass),a++},e.Slider.prototype.setListeners=function(){const e=this;A11Y_HELPER.addListener(e.config.nextButton,t=>{e.config.nextButton.blur(),e.scrollNext(),t.preventDefault()}),A11Y_HELPER.addListener(e.config.prevButton,t=>{e.config.prevButton.blur(),e.scrollPrev(),t.preventDefault()}),e.config.nextButton.addEventListener("mouseover",e.nudgeLeft.bind(e)),e.config.nextButton.addEventListener("mouseout",e.nudgeLeft.bind(e)),e.config.prevButton.addEventListener("mouseover",e.nudgeRight.bind(e)),e.config.prevButton.addEventListener("mouseout",e.nudgeRight.bind(e)),t.event.windowResize.add({method:e.resetSlider.bind(e)})},e.Slider.prototype.slideTo=function(e){const t=this;if(t.getItemsLeft(),t.scrollSlider(),t.activeSlide=e,t.updateControls(),t.setActiveItems(),t.config.paginationCallback){const a=t.activeSlide<e;t.config.paginationCallback(a)}},e.Slider.prototype.updateControls=function(){const e=this;if(e.activeSlide>=e.slideNum-1?t.style.addClass(e.config.nextButton,e.config.buttonHideClass):t.style.hasClass(e.config.nextButton,e.config.buttonHideClass)&&t.style.removeClass(e.config.nextButton,e.config.buttonHideClass),0===e.activeSlide?t.style.addClass(e.config.prevButton,e.config.buttonHideClass):t.style.hasClass(e.config.prevButton,e.config.buttonHideClass)&&t.style.removeClass(e.config.prevButton,e.config.buttonHideClass),e.pagerElements.length>0)for(let a=0;a<e.pagerElements.length;a++)a===e.activeSlide?t.style.addClass(e.pagerElements[a],e.config.pagerActiveClass):t.style.removeClass(e.pagerElements[a],e.config.pagerActiveClass)}}(PULSE.app.common,PULSE.core),function(e,t){const a=function(e){return 0!==e.length&&e[e.length-1]},n=function(e){const t=a(e);return!!t&&i.call(this,t[0])},o=function(){const e=this;return DOM_HELPER.nodeListToArray(e.config.sliderElements).reduce((t,o)=>n.call(e,t,e.config.featuredThumbClass)||function(e,t){const n=a(e);return!n||n.length===t}(t,e.config.perPage)||i.call(e,o)?(t.push([o]),t):(a(t).push(o),t),[])},i=function(e){return t.style.hasClass(e,this.config.featuredThumbClass)},s=function(e){const t=this;let a=e.offsetLeft;i.call(t,e)&&(a=DOM_HELPER.getCenteredOffset(t.config.slideContainer,e));const n=t.config.slideContainer.scrollWidth-t.config.slideContainer.getBoundingClientRect().width;return Math.max(0,Math.min(a,n))},l=function(){const e=this;window.innerWidth<=e.config.disableBelow&&(e.config.slideContainer.style[e.direction]="0px")};e.FeaturedContentSlider=function(e){const a=this;a.config=deepFreeze(CLONE_HELPER.deepCloneObject(e)),window.innerWidth<=a.config.disableBelow||(a.pageSlides=o.call(a),a.initSlider(()=>a.pageSlides.length),a.config.defaultIndex&&(a.activeSlide=a.config.defaultIndex,a.slideTo(a.config.defaultIndex)),t.event.windowResize.add({method:l.bind(a)}))},e.FeaturedContentSlider.prototype=Object.create(e.Slider.prototype),e.FeaturedContentSlider.prototype.scrollSlider=function(){const e=this,t=s.call(e,e.pageSlides[e.activeSlide][0]);e.config.slideContainer.style[e.direction]=`-${t}px`},e.FeaturedContentSlider.prototype.resetSlider=function(){const t=this;e.Slider.prototype.resetSlider.call(t),t.slideNum=t.pageSlides.length},e.FeaturedContentSlider.prototype.renderPaginator=function(){const t=this;t.slideNum=t.pageSlides.length,e.Slider.prototype.renderPaginator.call(t)},e.FeaturedContentSlider.prototype.scrollPrev=function(){const e=this;if(0===e.activeSlide)return;e.activeSlide--;const t=e.pageSlides[e.activeSlide][0];e.config.slideContainer.style[e.direction]="-"+s.call(e,t)+"px",e.updateControls(),e.setActiveItems(),e.config.previousCallback&&e.config.previousCallback()},e.FeaturedContentSlider.prototype.focusedAtIndex=function(e){const t=this,a=t.config.sliderElements[e];for(let n=0;n<t.pageSlides.length;n++){if(t.pageSlides[n].indexOf(a)!==t.activeSlide)return t.slideTo(e)}},e.FeaturedContentSlider.prototype.scrollNext=function(){const e=this;if(e.activeSlide===e.slideNum-1)return;e.activeSlide++;const t=e.pageSlides[e.activeSlide][0];e.config.slideContainer.style[e.direction]="-"+s.call(e,t)+"px",e.updateControls(),e.setActiveItems(),e.config.nextCallback&&e.config.nextCallback()}}(PULSE.app.common,PULSE.core),function(e,t,a){const n=function(){const e=this;!e.isScrolling&&e.noTouch&&o.call(e)},o=function(){const e=this,t=e.container.scrollLeft,a=e.container.scrollWidth-e.container.getBoundingClientRect().width;let n=0;if(t>e.lastScrollPos+60){n=r.call(e,"right"),e.slideRight=!0,e.slideLeft=!1;const t=Math.min(n,a);e.slidingAnimationFrame=ANIMATION_HELPER.requestAnimationFrame(d.bind(e,t))}else if(t<e.lastScrollPos-60)n=r.call(e,"left"),e.slideRight=!1,e.slideLeft=!0,e.slidingAnimationFrame=ANIMATION_HELPER.requestAnimationFrame(c.bind(e,n));else{n=r.call(e,"right"),e.slideRight=!0,e.slideLeft=!1;const t=Math.min(l(e.lastSnapElement,e.container),a);e.slidingAnimationFrame=ANIMATION_HELPER.requestAnimationFrame(d.bind(e,t||0))}},i=function(){const e=this;e.ignore?e.ignore=!1:(e.isScrolling=!0,clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout(()=>{e.isScrolling=!1,n.call(e)},120))},s=function(){const e=this;e.onScroll=i.bind(e),e.container.addEventListener("scroll",e.onScroll),e.container.addEventListener("touchstart",()=>{e.noTouch=!1}),e.container.addEventListener("touchend",()=>{e.noTouch=!0,n.call(e)})},l=function(e,t){return a.style.hasClass("js-thumb-featured")?DOM_HELPER.getCenteredOffset(t,e,!0):e.offsetLeft},r=function(e){const t=this;for(let a=0;a<t.elements.length;a++){if(t.elements[a].getBoundingClientRect().left>=t.leftMargin)return"left"===e&&t.elements[a-1]?(t.lastSnapElement=t.elements[a-1],l(t.lastSnapElement,t.container)):(t.lastSnapElement=t.elements[a],l(t.lastSnapElement,t.container))}return 0},c=function(e){const t=this,a=t.container.scrollLeft-20;a<=e?(t.container.scrollLeft=e,t.lastScrollPos=e,cancelAnimationFrame(t.slidingAnimationFrame)):t.slideLeft&&(t.container.scrollLeft=a,t.lastScrollPos=a,ANIMATION_HELPER.requestAnimationFrame(c.bind(t,e)))},d=function(e){const t=this,a=t.container.scrollLeft+20;a>=e?(t.container.scrollLeft=e,t.lastScrollPos=e,cancelAnimationFrame(t.slidingAnimationFrame)):t.slideRight&&(t.container.scrollLeft=a,t.lastScrollPos=a,ANIMATION_HELPER.requestAnimationFrame(d.bind(t,e)))};t.MobileContentSlider=function(e,t,a=CONSTANTS.BREAKPOINTS.TABLET,n=0,o=!1){const i=this;window.innerWidth>a||(i.container=e,i.elements=i.container.querySelectorAll(".js-thumb"),i.lastScrollPos=0,i.leftMargin=n,i.ignore=o,i.isScrolling=!1,i.noTouch=!0,i.lastSnapElement={},t&&(i.container.scrollLeft=DOM_HELPER.getCenteredOffset(i.container,t),i.lastScrollPos=i.container.scrollLeft),s.call(i))};const p=document.querySelectorAll("[data-mobile-slider]");for(let e=0;e<p.length;e++)new t.MobileContentSlider(p[e])}(PULSE.app,PULSE.app.common,PULSE.core),function(e){const t=function(){const e=this;e.scrollingElement.addEventListener("scroll",n.bind(e)),SCREEN_HELPER.onDebouncedResize(a.bind(e))},a=function(){const e=this;e.indicatorWidth=e.indicator.getBoundingClientRect().width,e.scrollingElementWidth=e.scrollingElement.getBoundingClientRect().width,e.restIndicatorWidth=100*e.scrollingElementWidth/e.scrollingElement.scrollWidth,e.indicator.style.width=`${e.restIndicatorWidth}%`,n.call(e)},n=function(){const e=this,t=100*e.scrollingElement.scrollLeft/e.scrollingElement.scrollWidth;e.indicator.style.left=`${t}%`};e.MobileScroller=function(e,n){const o=this;o.container=e,o.indicator=o.container.querySelector(".js-indicator"),o.scrollingElement=n,t.call(o),a.call(o)}}(PULSE.app.common),function(e,t,a){const n="gallery-picture-item",o="gallery-modal__title--hidden",i="gallery-modal__author--hidden",s="embeddable-gallery--animating";t.PhotoSlider=function(e={}){const t=this;t.config=E(e),t.config.currentSlide=t.config.thumbnails[0],t.config.firstSlide=t.config.thumbnails[0],t.config.lastSlide=t.config.thumbnails[t.config.thumbnails.length-1],t.windowResize={method:()=>t.updateViewport(t.config.currentSlide)},t.titleElem=t.config.container.querySelector(".js-gallery-title"),t.authorElem=t.config.container.querySelector(".js-gallery-author"),t.authorNameElem=t.config.container.querySelector(".js-gallery-author-name"),t.authorCompanyElem=t.config.container.querySelector(".js-gallery-author-company"),t.counterElem=t.config.container.querySelector(".js-gallery-counter"),t.counterAmountElem=t.config.container.querySelector(".js-gallery-amount"),t.downloadButton=t.config.container.querySelector(".js-gallery-download"),t.partnerElem=t.config.container.querySelector(".js-gallery-partner"),t.socialElems=t.config.container.querySelectorAll(`.${CONSTANTS.JS_CLS_NAMES.SOCIAL_SHARE}`),t.counterAmountElem.innerText=t.config.thumbnails.length,h.call(t),_.call(t),v.call(t)},t.PhotoSlider.prototype.updateViewport=function(e){const t=this;t.config.currentSlide=e,t.config.prevSlide=a.dom.getPreviousSiblings(t.config.currentSlide)[0]||t.config.lastSlide,t.config.nextSlide=a.dom.getNextSiblings(t.config.currentSlide)[0]||t.config.firstSlide,p.call(t),m.call(t),S.call(t),c.call(t),t.config.onSlideChangeCallback&&t.config.onSlideChangeCallback(t.config.currentSlide)},t.PhotoSlider.prototype.slide=function(e){const t=this;a.style.addClass(t.config.container,s),t.slidingAnimationFrame=requestAnimationFrame("next"===e?g.bind(t):f.bind(t))},t.PhotoSlider.prototype.addKeyUpListener=function(){this.keyEventCallback=r.bind(this),document.addEventListener("keyup",this.keyEventCallback)},t.PhotoSlider.prototype.removeKeyUpListener=function(){document.removeEventListener("keyup",this.keyEventCallback),this.keyEventCallback=null};const l=function(){return window.innerWidth<=CONSTANTS.BREAKPOINTS.TABLET},r=function(e){const t=this;switch(e.keyCode){case CONSTANTS.KEY_CODES.ARROW_KEY_LEFT:t.config.slidePrev=!0,t.slide("prev");break;case CONSTANTS.KEY_CODES.ARROW_KEY_RIGHT:t.config.slideNext=!0,t.slide("next");break;default:return}},c=function(){DOM_HELPER.nodeListToArray(this.config.viewportList.querySelectorAll(".js-gallery-photo")).forEach(e=>{e.style.opacity=0,e.onload=function(){e.style.opacity=1}})},d=function(){const e=this;clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout(()=>{Math.abs(e.config.viewport.scrollLeft-e.config.viewport.offsetWidth)>30?e.config.viewport.scrollLeft>e.config.lastScrollPos?(e.config.slideNext=!0,e.slide("next")):(e.config.slidePrev=!0,e.slide("prev")):e.updateViewport(e.config.currentSlide),e.config.viewport.removeEventListener("scroll",e.onViewportScroll)},50)},p=function(){const e=this;let t;e.config.viewportList.innerHTML="";const o=JSON.parse(e.config.prevSlide.dataset.fullscreenData);t=u(o),a.dom.appendDomString(e.config.viewportList,TEMPLATE_HELPER.render({picture:JSON.parse(e.config.prevSlide.dataset.fullscreenData),picture:o,title:e.config.prevSlide.dataset.title,loadedPhotos:e.loadedPhotos,isPortrait:"true"===e.config.prevSlide.dataset.portrait||t},n));const i=JSON.parse(e.config.currentSlide.dataset.fullscreenData);t=u(i),a.dom.appendDomString(e.config.viewportList,TEMPLATE_HELPER.render({picture:JSON.parse(e.config.currentSlide.dataset.fullscreenData),picture:i,title:e.config.currentSlide.dataset.title,loadedPhotos:e.loadedPhotos,isPortrait:"true"===e.config.currentSlide.dataset.portrait||t},n));const s=JSON.parse(e.config.nextSlide.dataset.fullscreenData);t=u(s),a.dom.appendDomString(e.config.viewportList,TEMPLATE_HELPER.render({picture:JSON.parse(e.config.nextSlide.dataset.fullscreenData),picture:s,title:e.config.nextSlide.dataset.title,loadedPhotos:e.loadedPhotos,isPortrait:"true"===e.config.nextSlide.dataset.portrait||t},n))},u=function(e){const t=e.img.split("width=")||[],a=t[1]?t[1].split("&height="):[];return a[0]&&a[1]&&a[0]<a[1]},m=function(){const e=this,t=e.config.viewportList.firstElementChild,a=e.config.viewContainer?e.config.viewContainer.offsetWidth:window.innerWidth;let n=t.offsetWidth;a>CONSTANTS.BREAKPOINTS.MOBILE&&(n=t.offsetWidth-(a-t.offsetWidth)/CONSTANTS.CALCS.HALF+40),e.config.viewport.scrollLeft=n,e.config.lastScrollPos=n},E=function(e){const t={container:e.container||document.querySelector(".js-gallery-slider"),viewport:e.viewport||e.container.querySelector(".js-gallery-viewport"),viewportList:e.viewportList||e.container.querySelector(".js-gallery-viewport-list"),controls:e.controls||{},thumbnails:e.thumbnails||[],hideClass:e.hideClass||CONSTANTS.STYLE_CLS_NAMES.IS_HIDDEN,partner:e.partner||"",playlistId:e.playlistId||"",viewContainer:e.viewContainer||null,onSlideChangeCallback:e.onSlideChangeCallback||null};return t.controls.prev=t.controls.prev||e.container.querySelector(".js-gallery-nav-prev"),t.controls.next=t.controls.next||e.container.querySelector(".js-gallery-nav-next"),t},h=function(){const e=this;A11Y_HELPER.addListener(e.config.controls.prev,()=>{e.config.slidePrev=!0,e.slide("prev")}),A11Y_HELPER.addListener(e.config.controls.next,()=>{e.config.slideNext=!0,e.slide("next")}),e.onViewportScroll=d.bind(e),e.config.viewportList.addEventListener("touchstart",()=>e.config.viewport.addEventListener("scroll",e.onViewportScroll))},f=function(){const e=this,t=e.config.viewport.scrollLeft-(l()?40:60);t<=0?(e.config.viewport.scrollLeft=0,cancelAnimationFrame(e.slidingAnimationFrame),a.style.removeClass(e.config.container,s),e.updateViewport(e.config.prevSlide)):!0===e.config.slidePrev&&(e.config.viewport.scrollLeft=t,ANIMATION_HELPER.requestAnimationFrame(f.bind(e)))},g=function(){const e=this,t=e.config.viewport.scrollLeft+(l()?40:60),n=e.config.viewportList.firstElementChild,o=e.config.viewContainer?e.config.viewContainer.offsetWidth:window.innerWidth,i=n.offsetWidth*CONSTANTS.CALCS.DOUBLE-(o-n.offsetWidth)/CONSTANTS.CALCS.HALF+40;t>=i?(e.config.viewport.scrollLeft=i,cancelAnimationFrame(e.slidingAnimationFrame),a.style.removeClass(e.config.container,s),e.updateViewport(e.config.nextSlide)):!0===e.config.slideNext&&(e.config.viewport.scrollLeft=t,ANIMATION_HELPER.requestAnimationFrame(g.bind(e)))},S=function(){const e=this;e.counterElem.innerText=Number(e.config.currentSlide.dataset.index)+1,e.downloadButton.setAttribute("href",e.config.currentSlide.dataset.download),e.downloadButton.setAttribute("target","_blank"),a.style.addClass(e.titleElem,o),a.style.addClass(e.authorElem,i),setTimeout(()=>{e.titleElem.innerText=e.config.currentSlide.dataset.title,a.style.removeClass(e.titleElem,o),e.authorNameElem.innerText=e.config.currentSlide.dataset.author.split("|")[0].replace("content-tag-author-",""),e.authorCompanyElem.innerText=function(e){let t=e.split("|");return t[1]?t[1]:""}(e.config.currentSlide.dataset.author),a.style.removeClass(e.authorElem,i)},300)},_=function(){const e=this;e.partnerElem&&(e.config.partner?(a.style.removeClass(e.partnerElem,CONSTANTS.STYLE_CLS_NAMES.HIDE),e.partnerElem.appendChild(DOM_HELPER.createSVG({cssClass:"icon content-partner__logo",name:`${e.config.partner}--white`,sprite:"partners"}))):a.style.addClass(e.partnerElem,CONSTANTS.STYLE_CLS_NAMES.HIDE))},v=function(){const e=this;if(e.config.playlistId)for(let t=0;t<e.socialElems.length;t++)e.socialElems[t].dataset.linkTo=URL_HELPER.generateUrl("playlist",e.config.playlistId,"photo",null,"https")}}(PULSE.app,PULSE.app.common,PULSE.core),function(e,t,a){const n=`social-share__icon${CONSTANTS.STYLE_CLS_MODIFIERS.ACTIVE}`,o="data-link-to";a.PageShare=function(e,t){const a=this;a.element=e,a.bodyContent=a.element.getAttribute("data-body"),a.labelBubble=a.element.querySelector(".js-social-share-bubble"),a.copyButton=a.element.querySelector(".js-copy-url"),a.copyMessage=a.element.querySelector(".js-copy-message"),a.expandBtn=a.element.querySelector(".js-expand-btn"),a.configUrl=t,a.setListeners()},a.PageShare.prototype.setListeners=function(){const e=this;A11Y_HELPER.addListener(e.element,t=>{if(!t.target)return;const a=e.getSocialDataset(t.target);a&&a.socialService&&SOCIAL_HELPER[a.socialService].sharePage(e.getUrl(),!1,e.updateBodyContent())}),document.queryCommandSupported("copy")?A11Y_HELPER.addListener(e.copyButton,()=>e.copyUrl()):t.style.addClass(e.copyButton,"u-hide"),e.expandBtn&&A11Y_HELPER.addListener(e.expandBtn,()=>{t.style.toggleClass(e.element,"is-active")}),e.labelBubble&&A11Y_HELPER.addListener(e.labelBubble,()=>t.style.toggleClass(e.element,"social-share--open"))},a.PageShare.prototype.copyUrl=function(){const e=this,t=e.getUrl()||window.location.href;clipboard.copy(t).then(()=>e.copyUrlMessage(),()=>e.copyUrlMessage(!0))},a.PageShare.prototype.copyUrlMessage=function(e){const a=this;t.style.addClass(a.copyButton,n),e&&t.style.addClass(a.copyMessage,"social-share__copy-message--fail"),a.copyMessage.innerHTML=PULSE.I18N.lookup(e?"label.share.urlcopiedfail":"label.share.urlcopied"),setTimeout(()=>t.style.removeClass(a.copyButton,n),2e3)},a.PageShare.prototype.getSocialDataset=function(e){const t=this;let a=e;if(t.element.getAttribute("data-social-service"))return t.element.dataset;do{if(!a)return!1;if(a.getAttribute("data-social-service"))return a.dataset;a=a.parentElement}while(a!==t.element);return!1},a.PageShare.prototype.getUrl=function(){return this.element.getAttribute(o)||this.configUrl},a.PageShare.prototype.setUrl=function(e){return this.element.setAttribute(o,e)},a.PageShare.prototype.updateBodyContent=function(){return this.element.getAttribute("data-body")},e.widgetInitialiser.addMultipleWidgetsByName("social-page-share",e.common.PageShare)}(PULSE.app,PULSE.core,PULSE.app.common),new(0,PULSE.ui.shareText)({content:`.${CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_BODY}`,shareOptions:`.${CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_OPTIONS}`,shareChannels:`.${CONSTANTS.JS_CLS_NAMES.TEXT_SHARE_CHANNELS}`,hideUrl:!1}),function(e,t){e.SubscribeButton=function(e){A11Y_HELPER.addListener(e,a=>{if(a.preventDefault(),t.style.hasClass(event.target,CONSTANTS.JS_CLS_NAMES.SUBSCRIBE_CLOSE))return t.style.removeClass(e,CONSTANTS.STYLE_CLS_NAMES.IS_ACTIVE),void USER_HELPER.setSubscribeCTACookie();"undefined"!=typeof ANALYTICS_HELPER&&ANALYTICS_HELPER.fireAnalyticsOnElement(a),USER_HELPER.subscribe("",e.dataset.flowIdSubscribe)})};const a=document.querySelectorAll(`.${CONSTANTS.JS_CLS_NAMES.SUBSCRIBE}`);for(let t=0;t<a.length;t++)new e.SubscribeButton(a[t])}(PULSE.app.common,PULSE.core),PULSE.app.common.SwipeDetect=function(e,t,a){let n,o,i,s,l,r,c;const d=e,p=150,u=100,m=300,E=t.threshold||p,h=t.restraint||u,f=t.allowedTime||m,g="function"==typeof a?a:e=>console.log(`SwipeDetect: ${e}`);d.addEventListener("touchstart",function(e){e.preventDefault();const t=e.changedTouches[0];c="none",n=t.pageX,o=t.pageY,l=(new Date).getTime()},!1),d.addEventListener("touchmove",function(e){e.preventDefault()},!1),d.addEventListener("touchend",function(e){e.preventDefault();const t=e.changedTouches[0];i=t.pageX-n,s=t.pageY-o,r=(new Date).getTime()-l,r<=f&&(Math.abs(i)>=E&&Math.abs(s)<=h?c=i<0?"left":"right":Math.abs(s)>=E&&Math.abs(i)<=h&&(c=s<0?"up":"down")),g(c)},!1)},function(e){e.Filter=function(t={}){e.Dropdown.call(this,t)},e.Filter.prototype=Object.create(e.Dropdown.prototype),e.Filter.prototype.getAPIParams=function(){const{optionId:e}=this.getCurrentOption(),t={};return t[this.getName()]=e||CONSTANTS.FILTERS.DEFAULT_OPTION_ID,t},e.Filter.prototype.shouldUpdateFromDependancy=function(e,t,a){console.warn("Common Filter: shouldUpdateFromDependancy should be overriden by sub class",e,t),"function"==typeof a&&a()},e.Filter.prototype.shouldUpdateFromData=function(e){console.warn("Common Filter: shouldUpdateFromData should be overriden by sub class",e)}}(PULSE.app.common),function(e){const t=function(e){if(!e||0===e.data.length)return null;const t=e.data[0];return t.subattachments?t.subattachments.data[0].media.image.src:t.media?t.media.image.src:null},a=function(e){return e.from&&e.from.picture?e.from.picture.data.url:null};e.getFacebookModel=function(e){const n=SOCIAL_FEED_HELPER.getUserAccountURL(e.from.id,CONSTANTS.SOCIAL_FEED_TYPES.FACEBOOK),o=function(e){const t=e.split(/[^0-9]/);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])}(e.created_time);return{timestamp:SOCIAL_FEED_HELPER.getSinceString(o),id:e.id,publishFrom:o.getTime(),text:(i=e.message,i.replace(/(https{0,1}:\/\/\S+)/g,'<a target="_blank" rel="noopener" href="$1">$1</a>').replace(/#(\S+)/g,'<a target="_blank" rel="noopener" href="//www.facebook.com/search/top/?q=%23$1">#$1</a>')),link:e.permalink_url,photo:t(e.attachments)||e.picture||"",feedType:CONSTANTS.SOCIAL_FEED_TYPES.FACEBOOK,user:{id:e.from.id,name:e.from.name,account:e.from.name,link:n,avatarUrl:a(e)}};var i}}(PULSE.app.common),function(e){e.getInstagramModel=function(e){const t=SOCIAL_FEED_HELPER.getUserAccountURL(e.user.username,CONSTANTS.SOCIAL_FEED_TYPES.INSTAGRAM),a=(n=e.created_time,new Date(parseInt(n)*CONSTANTS.TIME.ONE_SECOND));var n;const o=SOCIAL_FEED_HELPER.getSinceString(a);let i={};const s=e.images.standard_resolution.url;return"video"===e.type&&(i=e.videos.standard_resolution),{timestamp:o,publishFrom:a.getTime(),id:e.id,text:(l=e.caption.text,l.replace(/(https{0,1}:\/\/\S+)/g,'<a target="_blank" rel="noopener" href="$1">$1</a>').replace(/@(\S+)/g,'<a target="_blank" rel="noopener" href="//www.instagram.com/$1">@$1</a>').replace(/#(\S+)/g,'<a target="_blank" rel="noopener" href="//www.instagram.com/explore/tags/$1">#$1</a>')),link:e.link,type:e.type,photo:s,video:i,likes:e.likes.count,feedType:CONSTANTS.SOCIAL_FEED_TYPES.INSTAGRAM,user:{id:e.user.id,name:e.user.full_name,account:e.user.username,link:t,avatarUrl:e.user.profile_picture}};var l}}(PULSE.app.common),function(e){e.getTweetModel=function(e){const t=SOCIAL_FEED_HELPER.getUserAccountURL(e.actor.preferredUsername,CONSTANTS.SOCIAL_FEED_TYPES.TWITTER),a=new Date(e.postedTime),n=moment(a).from(moment());let o="",i=[];if(e.entities&&e.entities.media)for(let t=0;t<e.entities.media.length;t++)"photo"===e.entities.media[t].type&&(o=e.entities.media[t].media_url_https);if(e.twitter_entities&&e.twitter_entities.media)for(let t=0;t<e.twitter_entities.media.length;t++){const a=e.twitter_entities.media[t];i.push(a.media_url_https),o=a.media_url_https}if(e.long_object&&e.long_object.twitter_entities&&e.long_object.twitter_entities.media){const t=e.long_object.twitter_entities.media;for(let e=0;e<t.length;e++)"photo"===t[e].type&&(o=t[e].media_url_https)}return""!==o&&(o+=":small"),{timestamp:n,publishFrom:a.getTime(),id:e.id,text:(s=e.body,s.replace(/(https{0,1}:\/\/\S+)/g,'<a target="_blank" rel="noopener" href="$1">$1</a>').replace(/@(\S+)/g,'<a target="_blank" rel="noopener" href="//twitter.com/$1">@$1</a>').replace(/#(\S+)/g,'<a target="_blank" rel="noopener" href="//twitter.com/#!/search?q=%23$1">#$1</a>')),link:e.link,photo:o,extendedMedia:i,user:{id:e.actor.id,name:e.actor.displayName,account:e.actor.preferredUsername,link:t,description:e.actor.summary,avatarUrl:e.actor.image},feedType:CONSTANTS.SOCIAL_FEED_TYPES.TWITTER,favorites:e.favoritesCount,retweets:e.retweetCount};var s}}(PULSE.app.common),function(e){e.CompSeasonGenericFilter=function(t={}){e.Filter.call(this,t)},e.CompSeasonGenericFilter.prototype=Object.create(e.Filter.prototype),e.CompSeasonGenericFilter.prototype.getAPIParams=function(){const{optionId:e}=this.getCurrentOption();return{compSeason:e}},e.CompSeasonGenericFilter.prototype.shouldUpdateFromDependancy=function(e,t,a){const n=this;axios.get(URL_HELPER.getGenCompSeasonUrl(t.getCurrentOption().optionId)).then(e=>e.data).then(e=>e.content.map(e=>({optionId:e.id,optionName:`${e.year} / ${e.year+1}`})).reverse()).then(e=>{n.setData(e),n.updateOptions()}).then(a)}}(PULSE.app.common),function(e,t){t.CompSeasonFilter=function(e={}){t.Filter.call(this,e)},t.CompSeasonFilter.prototype=Object.create(t.Filter.prototype),t.CompSeasonFilter.prototype.getAPIParams=function(){const{optionId:e}=this.getCurrentOption();return{compSeasons:e}},t.CompSeasonFilter.prototype.shouldUpdateFromDependancy=function(t,a,n,o,i={}){const s=this,l=a.getCurrentOption().optionId;if(l===CONSTANTS.FILTERS.DEFAULT_OPTION_ID){const e=PULSE.store.getState().compSeasons.data.map(e=>({optionName:e.label,optionId:e.compSeasons.join(",")}));return s.setData(e),s.updateOptions(i),void("function"==typeof n&&n())}axios.get(URL_HELPER.getCompSeasons({id:l,page:0,pageSize:30,teams:o.FOOTBALL_TEAM,altIds:!0})).then(e=>e.data).then(e=>e.content.map(({id:e,label:t})=>{const a=t.lastIndexOf(" ");return{optionId:e,optionName:a?t.slice(a+1):t}})).then(e=>e.sort(({optionName:e},{optionName:t})=>t.localeCompare(e))).then(t=>{const a=t.filter(e=>!CONSTANTS.IGNORED_COMPSEASONS.includes(e.optionId));s.setData(a),s.updateOptions(i),l!==CONSTANTS.FILTERS.DEFAULT_OPTION_ID&&e.style.removeClass(s.element,CONSTANTS.STYLE_CLS_NAMES.HIDE)}).then(n)},t.CompSeasonFilter.prototype.shouldUpdateFromData=function(e){}}(PULSE.core,PULSE.app.common),function(e){e.CompetitionsFilter=function(t={}){e.Filter.call(this,t)},e.CompetitionsFilter.prototype=Object.create(e.Filter.prototype),e.CompetitionsFilter.prototype.getAPIParams=function(){const e=this,{optionId:t}=e.getCurrentOption();let a;a=-1===Number(t)?CONSTANTS.FOOTBALL_FILTER_COMPSEASONS:function(e,t){for(let a=0;a<e.length;a++)if(e[a].id===t)return e[a].compSeasons[0].id;return null}(e.getRawData(),Number(t));const n={comps:t};return a&&(n.compSeasons=a),n},e.CompetitionsFilter.prototype.shouldUpdateFromData=function(e){return e}}(PULSE.app.common),function(e){e.GenericCompetitionsFilter=function(t={}){e.Filter.call(this,t)},e.GenericCompetitionsFilter.prototype=Object.create(e.Filter.prototype),e.GenericCompetitionsFilter.prototype.updateOptionsData=function(e,t){const a=this;if(!t.barcaId||!CONSTANTS.GENERIC_SPORT_COMPS[t.barcaId])return e;if(!e.content||0===e.content.length)return a.config.hideFilters(),e;const n=e.content.filter(e=>CONSTANTS.GENERIC_SPORT_COMPS[t.barcaId].includes(e.id));return e.content=n,e}}(PULSE.app.common),function(e){e.NewsTagFilter=function(t={}){e.Filter.call(this,t)},e.NewsTagFilter.prototype=Object.create(e.Filter.prototype),e.NewsTagFilter.prototype.getAPIParams=function(e=!1){const{optionId:t}=this.getCurrentOption();return e?function(e){const t=[`"${CONSTANTS.TAGS.TYPE.NEWS.tag}"`];return e!==CONSTANTS.FILTERS.DEFAULT_OPTION_ID&&t.push(`"${e}"`),1===t.length?{tagExpression:t}:{tagExpression:t.join(" and ")}}(t):function(e){const t=[CONSTANTS.TAGS.TYPE.NEWS.tag];return e!==CONSTANTS.FILTERS.DEFAULT_OPTION_ID&&t.push(e),{tagNames:t.join(",")}}(t)}}(PULSE.app.common),function(e){e.VenueFilter=function(t={}){e.Filter.call(this,t)},e.VenueFilter.prototype=Object.create(e.Filter.prototype),e.VenueFilter.prototype.getAPIParams=function(e){const{optionId:t}=this.getCurrentOption();switch(t){case CONSTANTS.API_PROPERTIES.GROUND_HOME:return{homeTeams:e.teams,awayTeams:CONSTANTS.FILTERS.DEFAULT_OPTION_ID};case CONSTANTS.API_PROPERTIES.GROUND_AWAY:return{homeTeams:CONSTANTS.FILTERS.DEFAULT_OPTION_ID,awayTeams:e.teams};default:return{homeTeams:CONSTANTS.FILTERS.DEFAULT_OPTION_ID,awayTeams:CONSTANTS.FILTERS.DEFAULT_OPTION_ID}}},e.VenueFilter.prototype.shouldUpdateFromData=function(e){const t=this;if("-1"===t.getCurrentOption().optionId)if(!e.content||e.content.length<=1)t.disable();else{let a=!1,n=!1;for(let o=0;o<e.content.length;o++){const i=e.content[o];let s;for(let e=0;e<CONSTANTS.FOOTBALL_HOME_TEAM_IDS.length;e++){const t=CONSTANTS.FOOTBALL_HOME_TEAM_IDS[e];if(s=FIXTURE_HELPER.isHomeOrAway(i,t),s===CONSTANTS.API_PROPERTIES.GROUND_HOME){n=!0;break}if(s===CONSTANTS.API_PROPERTIES.GROUND_AWAY){a=!0;break}}if(n&&a)return void t.enable()}t.disable()}}}(PULSE.app.common);